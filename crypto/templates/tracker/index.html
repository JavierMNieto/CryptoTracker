{% load static %}
{% load coin_extras %}
<!DOCTYPE html>
<html ng-app="main">

<head>
	<meta charset="utf-8">
	<title>USDT/BTC Market Tracker</title>
	<link rel="shortcut icon" href="{% static 'images/tracking.png' %}">
	<link rel="icon" href="{% static 'images/tracking.png' %}">
	<link rel="stylesheet" href="{% static 'css/index.css' %}">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
		integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css"/>
	<link rel="stylesheet" href="{% static 'css/jquery-ui.min.css' %}"/>
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script src="{% static 'js/jquery-ui.min.js' %}"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
		integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
	</script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
	</script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.6/angular.min.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
	<script type="text/javascript" src="https://momentjs.com/downloads/moment-timezone-with-data.min.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
	<script src="https://kit.fontawesome.com/af6506c08e.js"></script>
	<script src="{% static 'js/mainController.js' %}"></script>
{% if coin and coin != 'home' %}
	<script src="{% static 'js/groupsController_basic.js' %}"></script>
{% endif %}
{% if coin and request.user.is_authenticated and request.user.settings.premium %}
	<script src="{% static 'js/sessionController.js' %}"></script>
	{% if coin != 'home' %}
	<script src="{% static 'js/groupsController_prem.js' %}"></script>
	<script>
		const dFilters = {{dFilters | safe}};
	</script>
	{% endif %}
{% endif %}
{% if not coin %}
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis.css" type="text/css"/>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis-network.min.js"> </script>
{% endif %}
</head>

{% if confirmation is not None %}
	<div class="alert alert-success alert-dismissible fixed-top fade show" role="alert">
		{{confirmation}}
		<button type="button" class="close" data-dismiss="alert" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>
{% elif rejection is not None %}
	<div class="alert alert-danger alert-dismissible fixed-top fade show" role="alert">
		{{rejection}}
		<button type="button" class="close" data-dismiss="alert" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>
{% endif %}

<body ng-controller="mainController as main" session-controller basic-controller prem-controller style="background-color: rgba(86, 166, 252, 0.75);">
	<nav class="navbar bg-primary shadow-lg block" id="navbar" style="z-index: 100;">
		<div style="position: absolute; left: 0; top: 0.5rem;">
			<a class="navbar-brand nav-link" style="cursor: pointer;" href="{% url 'home' %}">
				<img src="{% static 'images/tracking.png' %}" width="30" height="30"
					class="d-inline-block align-top">
				<span class="text-light">Site Name</span>
			</a>
		</div>
		<div class="ng-cloak w-100 text-center py-2">
		{% if coin is not None %}
			<!--<span class='text-dark h6'>Hong Kong Time: </span><span
				class="font-weight-bold text-light">{% verbatim %}{{ main.hk }}{% endverbatim %}</span>-->
			<span class="h6 text-warning pl-5">BTC: </span><span
				class='font-weight-bold'>${{ btc.last | floatformat:2 | numCommas}}</span>
			{% if btc.percentage < 0 %}
			<span class="font-italic text-danger pr-5"> ({{btc.percentage}}%)</span>
			{% else %}
			<span class="font-italic text-success pr-5"> (+{{btc.percentage}}%)</span>
			{% endif %}
			<span class='text-dark h6'>UTC Time: </span><span
				class="font-weight-bold text-light">{% verbatim %}{{ main.ut }}{% endverbatim %}</span>
		{% else %}
			<a href="#" class="btn">Learn More</a>
			<a href="#" class="btn">Buy</a>
		{% endif %}
		</div>
		<div style="white-space: nowrap; position: absolute; right: 1rem; top: 0.5rem;">
			{% if user.is_authenticated %}
				<div class="btn-group dropleft shadow">
					<button class="btn btn-success dropdown-toggle text-capitalize shadow-none" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						{{ user.username }}
					</button>
					<div class="dropdown-menu">
						<a class="dropdown-item" href="{% url 'acctSettings' %}"><i class="fas fa-cog mr-2"></i>Account Settings</a>
						<form class="dropdown-item" id="signOut" action="{% url 'signOut' %}">
							{% csrf_token %}
							<a ng-click="main.submit('signOut');" class="btn btn-sm btn-danger w-100" type="submit">Log Out</a>
						</form>
					</div>
				</div>
				<!--
				<div class="row text-center">
					<span class="h5 mx-2">{{ user.username }}</span>
					<form id="signOut" action="{% url 'signOut' %}">
						{% csrf_token %}
						<button ng-click="main.submit('signOut');" class="btn btn-sm btn-danger shadow mx-2" type="submit">Log Out</button>
					</form>
				</div>
				-->
			{% else %}
				<div class="btn-group"></div>
					<button class="btn btn-dark shadow" ng-click="main.showAcct('signUp')">Create Account</button>
					<button class="btn btn-dark shadow" ng-click="main.showAcct('signIn')">Log In</button>
				</div>
			{% endif %}
		</div>
	</nav>
	<!--
	<div style="position: relative;z-index: 2001;">
		<button href class="btn shadow-none" style="position: absolute; top: 0; right: 0.5rem; opacity: 0.5;">
			<i class="fas fa-arrow-alt-circle-up"></i>
		</button>
	</div>
	-->

	<div class="modal fade" tabindex="-1" role="dialog" id="overlay" style="overflow: hidden;" aria-hidden="true">
		<div ng-switch on="main.overlay.type" class="modal-dialog modal-dialog-centered modal" ng-class="{'modal-sm': main.overlay.type == 'delete' || main.overlay.type.indexOf('Session') > 0}" role="document">
		{% if user.is_authenticated and user.settings.premium and session %}
			{% if session != "Basic Session" %}	
			<form id="edit" method="post" action="{{ request.path }}/change" ng-switch-when="edit"
				class="modal-content bg-dark">
				{% csrf_token %}
				<div class="py-2 px-3">
					<h5 class="modal-title d-inline-block text-muted mr-3 mt-2">Edit <span
							class="text-light">{% verbatim %}{{ main.overlay.name }}{% endverbatim %}</span></h5>
					<button type="button" class="close mt-2 btn shadow-none" data-dismiss="modal" aria-label="Close">
						&times;
					</button>
					<div class="text-center text-muted text-truncate">
						<small>{% verbatim %}{{ main.overlay.addr }}{% endverbatim %}</small>
					</div>
				</div>
				<div class="modal-body shadow-lg bg-secondary">
					<input type="text" name="name" placeholder="Name" ng-readonly="prem.addrInput.name.valid === null"
						autocomplete="off" class="shadow form-control w-75 mx-auto my-1 text-center"
						ng-model="prem.addrInput.name.val" ng-change="prem.checkName()">
					<div style="position: absolute; top: 1.25rem; right: 4.9rem;" ng-switch
						on="prem.addrInput.name.valid">
						<div ng-switch-when="true">
							<i class="far fa-check-circle fa-sm text-success"></i>
						</div>
						<div ng-switch-when="null">
							<div class="spinner-grow spinner-grow-sm text-secondary" role="status">
								<span class="sr-only">Loading...</span>
							</div>
						</div>
						<div ng-switch-default ng-title="prem.addrInput.name.reason">
							<i class="far fa-times-circle fa-sm text-danger"></i>
						</div>
					</div>
					<input type="text" name="cat" list="categories"
						class="shadow form-control w-75 mx-auto my-1 text-center" placeholder="Group Name" ngTrim="true"
						ng-model="prem.addrInput.cat.val" ng-change="prem.checkCat()" autocomplete="off">
					<div style="position: absolute; top: 3.9rem; right: 4.9rem;" ng-switch on="prem.addrInput.cat.valid">
						<div ng-switch-when="true">
							<i class="far fa-check-circle fa-sm text-success"></i>
						</div>
						<div ng-switch-default ng-title="prem.addrInput.cat.reason">
							<i class="far fa-times-circle fa-sm text-danger"></i>
						</div>
					</div>
					<div ng-filters class="mt-3 p-2 text-center shadow-lg rounded">	
					</div>
				</div>
				<div class="modal-footer">
					<input type="hidden" name="method" value="edit">
					<input type="hidden" name="session" value="{{session}}">
					<input type="hidden" name="prevCat" value="{% verbatim %}{{ main.overlay.catId }}{% endverbatim %}">
					<input type="hidden" name="addr" value="{% verbatim %}{{ main.overlay.addr }}{% endverbatim %}">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-info"
						ng-disabled="(!prem.addrInput.name.valid || !prem.addrInput.cat.valid)"
						ng-click="prem.submit('edit')">
						<div ng-if="main.formState == 'load'" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></div>
						Save Changes
					</button>
				</div>
			</form>
			<form id="add" method="post" action="{{ request.path }}/change" ng-switch-when="add" class="modal-content bg-dark">
				{% csrf_token %}
				<div class="modal-header text-light">
					<h5 class="modal-title">Add New Address</h5>
					<button type="button" class="close btn shadow-none" data-dismiss="modal" aria-label="Close">
						&times;
					</button>
				</div>
				<div class="modal-body shadow-lg bg-secondary">
					<input autocomplete="off" type="text" name="addr" placeholder="Address"
						ng-change="prem.checkAddr()" ng-readonly="prem.addrInput.addr.valid === null"
						ng-model="prem.addrInput.addr.val" class="shadow form-control w-100 mb-2 text-center text-muted">
					<div style="position: absolute; top: 1rem; right: 1.2rem;" ng-switch on="prem.addrInput.addr.valid">
						<div ng-switch-when="true">
							<i class="far fa-check-circle fa-sm text-success"></i>
						</div>
						<div ng-switch-when="null">
							<div class="spinner-grow spinner-grow-sm text-secondary" role="status">
								<span class="sr-only">Loading...</span>
							</div>
						</div>
						<div ng-switch-default ng-title="prem.addrInput.addr.reason">
							<i class="far fa-times-circle fa-sm text-danger"></i>
						</div>
					</div>
					<input autocomplete="off" type="text" name="name" placeholder="Name" ngTrim="true"
						class="shadow form-control w-50 mx-auto my-1 text-center"
						ng-readonly="prem.addrInput.name.valid === null" ng-change="prem.checkName()"
						ng-model="prem.addrInput.name.val">
					<div style="position: absolute; top: 3.9rem; right: 8.55rem;" ng-switch
						on="prem.addrInput.name.valid">
						<div ng-switch-when="true">
							<i class="far fa-check-circle fa-sm text-success"></i>
						</div>
						<div ng-switch-when="null">
							<div class="spinner-grow spinner-grow-sm text-secondary" role="status">
								<span class="sr-only">Loading...</span>
							</div>
						</div>
						<div ng-switch-default ng-title="prem.addrInput.name.reason">
							<i class="far fa-times-circle fa-sm text-danger"></i>
						</div>
					</div>
					<input autocomplete="off" type="text" name="cat" list="categories"
						class="shadow form-control w-50 mx-auto my-1 text-center" placeholder="Group Name" ngTrim="true"
						ng-model="prem.addrInput.cat.val" ng-change="prem.checkCat()">
					<div style="position: absolute; top: 6.5rem; right: 8.55rem;" ng-switch on="prem.addrInput.cat.valid">
						<div ng-switch-when="true">
							<i class="far fa-check-circle fa-sm text-success"></i>
						</div>
						<div ng-switch-default ng-title="prem.addrInput.cat.reason">
							<i class="far fa-times-circle fa-sm text-danger"></i>
						</div>
					</div>
					<div ng-filters class="mt-3 p-2 text-center shadow-lg rounded">	
					</div>
				</div>
				<div class="modal-footer">
					<input type="hidden" name="method" value="add">
					<input type="hidden" name="session" value="{{session}}">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-success"
						ng-disabled="(!prem.addrInput.addr.valid || !prem.addrInput.name.valid || !prem.addrInput.cat.valid)"
						ng-click="prem.submit('add')">
						<div ng-if="main.formState == 'load'" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></div>
						Add Address
					</button>
				</div>
			</form>
			<form id="delete" method="post" action="{{ request.path }}/change" post="post" ng-switch-when="delete" class="modal-content bg-dark">
				{% csrf_token %}
				<div class="modal-header text-light">
					<h5 class="modal-title text-muted">Delete <span
							class="text-light">{% verbatim %}{{ main.overlay.name }}{% endverbatim %}</span>?</h5>
					<button type="button" class="close btn shadow-none" data-dismiss="modal" aria-label="Close">
						&times;
					</button>
				</div>
				<div class="modal-body shadow-lg bg-secondary text-center">
					Are you sure you want to delete <small
						class="font-weight-bold">{% verbatim %}{{ main.overlay.addr }}{% endverbatim %}</small>?
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<input type="hidden" name="method" value="delete">
					<input type="hidden" name="prevCat" value="{% verbatim %}{{ main.overlay.cat }}{% endverbatim %}">
					<input type="hidden" name="session" value="{{session}}">
					<input type="hidden" name="addr" value="{% verbatim %}{{ main.overlay.addr }}{% endverbatim %}">
					<button type="button" class="btn btn-danger" ng-click="prem.submit('delete')">
						<div ng-if="main.formState == 'load'" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></div>
						Delete
					</button>
				</div>
			</form>
			<form id="editCat" method="post" action="{{ request.path }}/change" post="post" ng-switch-when="editCat" class="modal-content bg-dark">
				{% csrf_token %}
				<div class="modal-header text-light">
					<h5 class="modal-title text-muted">Edit <span
							class="text-light">{% verbatim %}{{ main.overlay.cat }}{% endverbatim %}</span> Group</h5>
					<button type="button" class="close btn shadow-none" data-dismiss="modal" aria-label="Close">
						&times;
					</button>
				</div>
				<div class="modal-body shadow-lg bg-secondary text-center">
					<input type="text" name="newCat" class="shadow form-control w-75 mx-auto my-1 text-center"
						placeholder="New Group Name" ngTrim="true" ng-model="prem.addrInput.cat.val"
						ng-change="prem.checkCat()" autocomplete="off" ng-readonly="prem.addrInput.cat.val == 'Home'">
					<div style="position: absolute; top: 1.25rem; right: 4.9rem;" ng-switch on="prem.addrInput.cat.valid">
						<div ng-switch-when="true">
							<i class="far fa-check-circle fa-sm text-success"></i>
						</div>
						<div ng-switch-default ng-title="prem.addrInput.cat.reason">
							<i class="far fa-times-circle fa-sm text-danger"></i>
						</div>
					</div>
					<div ng-filters class="mt-3 p-2 text-center shadow-lg rounded">	
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<input type="hidden" name="method" value="editCat">
					<input type="hidden" name="session" value="{{session}}">
					<input type="hidden" name="cat" value="{% verbatim %}{{ main.overlay.id }}{% endverbatim %}">
					<button type="button" class="btn btn-info" ng-click="prem.submit('editCat')"
						ng-disabled="(!prem.addrInput.cat.valid)">
						Save Changes
					</button>
				</div>
			</form>
			{% endif %}
			<div id="customGraph" ng-switch-when="customGraph" class="modal-content bg-dark">
				{% csrf_token %}
				<div class="modal-header text-light">
					<h5 class="modal-title text-light">Custom Graph Filters</h5>
					<button type="button" class="close btn shadow-none" data-dismiss="modal" aria-label="Close">
						&times;
					</button>
				</div>
				<div class="modal-body shadow-lg bg-secondary text-center">
					<div ng-filters class="p-2 text-center">	
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal" ng-click="prem.customOff();">Cancel</button>
					<button type="button" class="btn btn-success" ng-click="prem.makeGraph();">
						Create Graph
					</button>
				</div>
			</div>
			<div id="filters" style="display: none;">
				<span class="mb-2">Preset Filters <i class="far fa-question-circle" data-toggle="tooltip" title="Presetting filters may result in much faster load times"></i></span>
				<div class="row">
					<div class="col-6">
						<span>Balance</span>
						<div class="w-100 mb-1">
							<input autocomplete="off" type="text" name="minBal" class="form-control text-center text-truncate shadow" ng-model="prem.filterInput.minBal" placeholder="Min Balance" defplaceholder="Min Balance">
						</div>
						<div class="w-100">
							<input autocomplete="off" type="text" name="maxBal" class="form-control text-center text-truncate shadow" ng-model="prem.filterInput.maxBal" placeholder="Max Balance" defplaceholder="Max Balance">
						</div>
					</div>
					<div class="col-6">
						<span>Transaction Amount</span>
						<div class="w-100 mb-1">
							<input autocomplete="off" type="text" name="minTx" class="form-control text-center text-truncate shadow" ng-model="prem.filterInput.minTx" placeholder="Min Tx Amount" defplaceholder="Min Tx Amount">
						</div>
						<div class="w-100">
							<input autocomplete="off" type="text" name="maxTx" class="form-control text-center text-truncate shadow" ng-model="prem.filterInput.maxTx" placeholder="Max Tx Amount" defplaceholder="Max Tx Amount">
						</div>
					</div>
				</div>
				<div class="row m-2">
					<span class="mx-auto">Transaction Time</span>
					<div class="w-75 mx-auto mb-1">
						<input autocomplete="off" type="text" name="minTime" class="form-control text-center text-truncate shadow" ng-model="prem.filterInput.minTime" placeholder="Min Time" defplaceholder="Min Time" list="minTimeRanges">
					</div>
					<div class="w-75 mx-auto">
						<input autocomplete="off" type="text" name="maxTime" class="form-control text-center text-truncate shadow" ng-model="prem.filterInput.maxTime" placeholder="Max Time" defplaceholder="Max Time" list="maxTimeRanges">
					</div>
				</div>
			</div>
			<datalist id="categories">
				<option ng-repeat="cat in basic.categories">{% verbatim %}{{cat}}{% endverbatim %}</option>
			</datalist>
			<datalist id="minTimeRanges">
				<option>oldest</option>
				<option>Last Day</option>
				<option>Last Week</option>
				<option>Last Month</option>
				<option>Last Year</option>
				<option value="Last ">Custom # (Hour, Day, Week, Month, Year)</option>
			</datalist>
			<datalist id="maxTimeRanges">
				<option>latest</option>
			</datalist>
		{% endif %}
		{% if not user.is_authenticated %}
			<form id="signUp" method="post" action="{% url 'signUp' %}" ng-switch-when="signUp" class="modal-content bg-dark">
				{% csrf_token %}
				{{ form.as_p }}
				<div class="modal-header text-light">
					<h5 class="modal-title">Create Account</h5>
					<button type="button" class="close btn shadow-none" data-dismiss="modal" aria-label="Close">
						&times;
					</button>
				</div>
				<div class="modal-body shadow-lg">
					<input autocomplete="off" type="text" name="user" placeholder="Username" ngTrim="true"
						class="shadow form-control w-50 mx-auto my-1 text-center"
						ng-readonly="main.acctInput.user.valid === null" ng-change="main.checkUser()"
						ng-model="main.acctInput.user.val">
					<div style="position: absolute; top: 1.25rem; right: 8.5rem;" ng-switch
						on="main.acctInput.user.valid">
						<div ng-switch-when="true">
							<i class="far fa-check-circle fa-sm text-success"></i>
						</div>
						<div ng-switch-when="null">
							<div class="spinner-grow spinner-grow-sm text-secondary" role="status">
								<span class="sr-only">Loading...</span>
							</div>
						</div>
						<div ng-switch-default ng-title="main.acctInput.user.reason">
							<i class="far fa-times-circle fa-sm text-danger"></i>
						</div>
					</div>
					<input autocomplete="off" type="text" name="email" placeholder="Email" ngTrim="true"
						class="shadow form-control w-50 mx-auto my-1 text-center"
						ng-readonly="main.acctInput.email.valid === null" ng-change="main.checkEmail()"
						ng-model="main.acctInput.email.val">
					<div style="position: absolute; top: 3.9rem; right: 8.5rem;" ng-switch
						on="main.acctInput.email.valid">
						<div ng-switch-when="true">
							<i class="far fa-check-circle fa-sm text-success"></i>
						</div>
						<div ng-switch-default ng-title="main.acctInput.email.reason">
							<i class="far fa-times-circle fa-sm text-danger"></i>
						</div>
					</div>
					<input autocomplete="off" type="password" name="pass" placeholder="Password" ngTrim="true"
						class="shadow form-control w-50 mx-auto my-1 text-center"
						ng-readonly="main.acctInput.pass.valid === null" ng-change="main.checkPass()"
						ng-model="main.acctInput.pass.val">
					<div style="position: absolute; top: 6.45rem; right: 8.5rem;" ng-switch
						on="main.acctInput.pass.valid">
						<div ng-switch-when="true">
							<i class="far fa-check-circle fa-sm text-success"></i>
						</div>
						<div ng-switch-default ng-title="main.acctInput.pass.reason">
							<i class="far fa-times-circle fa-sm text-danger"></i>
						</div>
					</div>
					<input autocomplete="off" type="password" name="confirmPass" placeholder="Confirm Password" ngTrim="true"
						class="shadow form-control w-50 mx-auto my-1 text-center"
						ng-readonly="main.acctInput.confirmPass.valid === null" ng-change="main.checkConfirmPass()"
						ng-model="main.acctInput.confirmPass.val">
					<div style="position: absolute; top: 9.0rem; right: 8.5rem;" ng-switch
						on="main.acctInput.confirmPass.valid">
						<div ng-switch-when="true">
							<i class="far fa-check-circle fa-sm text-success"></i>
						</div>
						<div ng-switch-default ng-title="main.acctInput.confirmPass.reason">
							<i class="far fa-times-circle fa-sm text-danger"></i>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-success"
						ng-disabled="(!main.acctInput.user.valid || !main.acctInput.email.valid || !main.acctInput.pass.valid || !main.acctInput.confirmPass.valid)"
						ng-click="main.submit('signUp')">
						<div ng-if="main.formState == 'load'" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></div>
						Sign Up
					</button>
				</div>
			</form>
			<form id="signIn" method="post" action="{% url 'signIn' %}" ng-switch-when="signIn" class="modal-content bg-dark">
				{% csrf_token %}
				<div class="modal-header text-light">
					<h5 class="modal-title">Sign In</h5>
					<button type="button" class="close btn shadow-none" data-dismiss="modal" aria-label="Close">
						&times;
					</button>
				</div>
				<div class="modal-body shadow-lg text-center">
					<input autocomplete="off" type="text" name="name" placeholder="Username/Email" ngTrim="true"
						class="shadow form-control w-50 mx-auto my-1 text-center"
						ng-model="main.acctInput.user.val">
					<input autocomplete="off" type="password" name="pass" placeholder="Password" ngTrim="true"
						class="shadow form-control w-50 mx-auto my-1 text-center"
						ng-model="main.acctInput.pass.val">
					<button class="btn btn-dark shadow-lg mt-2 text-center text-white" style="cursor: pointer" ng-click="main.showAcct('forgotPass')">Forgot Password?</button>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-success" ng-click="main.submit('signIn')">
						<div ng-if="main.formState == 'load'" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></div>
						Sign In
					</button>
				</div>
			</form>
			<form id="forgotPass" method="post" action="{% url 'forgotPass' %}" ng-switch-when="forgotPass" class="modal-content bg-dark">
				{% csrf_token %}
				<div class="modal-header text-light">
					<h5 class="modal-title">Reset Password</h5>
					<button type="button" class="close btn shadow-none" data-dismiss="modal" aria-label="Close">
						&times;
					</button>
				</div>
				<div class="modal-body shadow-lg text-center">
					<input autocomplete="off" type="text" name="email" placeholder="Email" ngTrim="true"
						class="shadow form-control w-50 mx-auto my-1 text-center"
						ng-model="main.acctInput.email.val">
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-success" ng-click="main.submit('forgotPass')">
						<div ng-if="main.formState == 'load'" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></div>
						Send Email
					</button>
				</div>
			</form>
			<form id="verifyEmail" method="post" action="../verify/" style="display: none;">
				{% csrf_token %}
			</form>
		{% endif %}
		{% if user.is_authenticated and user.settings.premium %}
			<form id="addSession" action="{{ request.path }}/addSession" ng-switch-when="addSession" class="modal-content bg-dark">
				{% csrf_token %}
				<div class="py-2 px-3">
					<h5 class="modal-title d-inline-block text-light mr-3 mt-2">Add Session</h5>
					<button type="button" class="close mt-2 btn shadow-none" data-dismiss="modal" aria-label="Close">
						&times;
					</button>
				{% if session %}
					<div class="text-center text-muted text-truncate">
						<small>Copy of {{session}}</small>
					</div>
				{% endif %}
				</div>
				<div class="modal-body shadow-lg bg-secondary text-center">
					<input autocomplete="off" type="text" name="name" placeholder="Name" ngTrim="true"
						class="shadow form-control w-75 mx-auto my-1 text-center"
						ng-readonly="session.valid === null" ng-change="session.checkSession()"
						ng-model="session.val">
					<div style="position: absolute; top: 1.25rem; right: 3.3rem;" ng-switch
						on="session.valid">
						<div ng-switch-when="true">
							<i class="far fa-check-circle fa-sm text-success"></i>
						</div>
						<div ng-switch-when="null">
							<div class="spinner-grow spinner-grow-sm text-secondary" role="status">
								<span class="sr-only">Loading...</span>
							</div>
						</div>
						<div ng-switch-default ng-title="session.reason">
							<i class="far fa-times-circle fa-sm text-danger"></i>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
					<button type="button" class="btn btn-success"
						ng-disabled="(!session.valid || !session.valid || !session.valid)"
						ng-click="session.submit('addSession');">
						<div ng-if="main.formState == 'load'" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></div>
						Add Session
					</button>
				</div>
			</form>
			<form id="delSession" method="post" action="delSession" post="post" ng-switch-when="delSession" class="modal-content bg-dark">
				{% csrf_token %}
				<div class="modal-header text-light">
					<h5 class="modal-title text-muted">Delete <span
							class="text-light">{% verbatim %}{{ main.overlay.name }}{% endverbatim %}</span>?</h5>
					<button type="button" class="close btn shadow-none" data-dismiss="modal" aria-label="Close">
						&times;
					</button>
				</div>
				<div class="modal-body shadow-lg bg-secondary text-center">
					Are you sure you want to delete <span
						class="font-weight-bold">{% verbatim %}{{ main.overlay.name }}{% endverbatim %}</span>?
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<input type="hidden" name="session_id" value="{% verbatim %}{{ main.overlay.uuid }}{% endverbatim %}">
					<button type="button" class="btn btn-danger" ng-click="session.submit('delSession')">
						<div ng-if="main.formState == 'load'" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></div>
						Delete
					</button>
				</div>
			</form>
			<form id="editSession" method="post" action="editSession" post="post" ng-switch-when="editSession" class="modal-content bg-dark">
				{% csrf_token %}
				<div class="modal-header text-light">
					<h5 class="modal-title text-muted">Edit <span
							class="text-light">{% verbatim %}{{ main.overlay.name }}{% endverbatim %}</span></h5>
					<button type="button" class="close btn shadow-none" data-dismiss="modal" aria-label="Close">
						&times;
					</button>
				</div>
				<div class="modal-body shadow-lg bg-secondary text-center">
					<input autocomplete="off" type="text" name="name" placeholder="Name" ngTrim="true"
						class="shadow form-control w-75 mx-auto my-1 text-center"
						ng-readonly="session.valid === null" ng-change="session.checkSession()"
						ng-model="session.val">
					<div style="position: absolute; top: 1.25rem; right: 3.3rem;" ng-switch
						on="session.valid">
						<div ng-switch-when="true">
							<i class="far fa-check-circle fa-sm text-success"></i>
						</div>
						<div ng-switch-when="null">
							<div class="spinner-grow spinner-grow-sm text-secondary" role="status">
								<span class="sr-only">Loading...</span>
							</div>
						</div>
						<div ng-switch-default ng-title="session.reason">
							<i class="far fa-times-circle fa-sm text-danger"></i>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<input type="hidden" name="session_id" value="{% verbatim %}{{ main.overlay.uuid }}{% endverbatim %}">
					<button type="button" class="btn btn-success" ng-click="session.submit('editSession')">
						<div ng-if="main.formState == 'load'" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></div>
						Submit
					</button>
				</div>
			</form>
		{% endif %}
			<div ng-switch-default>
				You shouldn't be seeing this.
			</div>
		</div>
	</div>

{% if 'passchange' in request.path %}
	<div id="iframe1" class="jumbotron d-flex align-items-center h-100">
		<form id="changePass" method="post" action="{{request.path}}" class="container mx-auto w-25">
			{% csrf_token %}
			<div class="modal-header text-dark">
				<h5 class="modal-title mx-auto">Change Password</h5>
			</div>
			<div class="form-group text-center">
				<input autocomplete="off" type="password" name="pass" placeholder="Password" ngTrim="true"
						class="shadow form-control w-50 mx-auto my-1 text-center"
						ng-readonly="main.acctInput.pass.valid === null" ng-change="main.checkPass()"
						ng-model="main.acctInput.pass.val">
				<div style="position: absolute; top: 6.45rem; right: 8.5rem;" ng-switch
					on="main.acctInput.pass.valid">
					<div ng-switch-when="true">
						<i class="far fa-check-circle fa-sm text-success"></i>
					</div>
					<div ng-switch-default ng-title="main.acctInput.pass.reason">
						<i class="far fa-times-circle fa-sm text-danger"></i>
					</div>
				</div>
				<input autocomplete="off" type="password" name="confirmPass" placeholder="Confirm Password" ngTrim="true"
						class="shadow form-control w-50 mx-auto my-1 text-center"
						ng-readonly="main.acctInput.confirmPass.valid === null" ng-change="main.checkConfirmPass()"
						ng-model="main.acctInput.confirmPass.val">
				<div style="position: absolute; top: 9.0rem; right: 8.5rem;" ng-switch
					on="main.acctInput.confirmPass.valid">
					<div ng-switch-when="true">
						<i class="far fa-check-circle fa-sm text-success"></i>
					</div>
					<div ng-switch-default ng-title="main.acctInput.confirmPass.reason">
						<i class="far fa-times-circle fa-sm text-danger"></i>
					</div>
				</div>
			</div>
			<button type="submit" class="btn btn-success float-right">
				<div ng-if="main.formState == 'load'" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></div>
				Confirm
			</button>
		</form>
	</div>
{% elif 'settings' in request.path %}
	<div id="iframe1" class="jumbotron d-flex h-100">
		<div class="container m-5 p-5 mx-auto">
			<div class="text-center text-capitalize h1 mb-5 w-100">{{user.username}} Account Settings</div>
			<ul class="row nav nav-tabs" id="acctTabs" role="tablist">
				<li class="nav-item">
					<a class="nav-link active" id="acct-tab" data-toggle="tab" href="#acct" role="tab" aria-controls="acct" aria-selected="true">Account Details</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" id="payment-tab" data-toggle="tab" href="#payment" role="tab" aria-controls="payment" aria-selected="false">Payment</a>
				</li>
			</ul>
			<div class="tab-content m-5" id="AcctContent">
				<div class="tab-pane fade show active" id="acct" role="tabpanel" aria-labelledby="acct-tab">
					<table class="mx-auto table table-hover w-75">
						<tbody>
							<tr>
								<th scope="row">Account Name: </th>
								<td>{{user.username}}</td>
							</tr>
							<tr>
								<th scope="row">Account Email: </th>
								<td>{{user.email}}</td>
							</tr>
							<tr>
								<td colspan="2" class="text-center mx-auto">
									<form id="forgotPass" method="post" action="{% url 'forgotPass' %}">
										{% csrf_token %}
										<input type="hidden" name="email" value="{{user.email}}">
										<button type="button" class="btn btn-success" ng-click="main.submit('forgotPass')">
											Change Password
										</button>
									</form>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="tab-pane fade" id="payment" role="tabpanel" aria-labelledby="payment-tab">
					
				</div>
			</div>
		</div>
	</div>
{% elif coin and coin != 'home' %}
	<div id="body-row" class="ng-cloak d-flex h-100 w-100 position-relative">
		<div id="sidebar-container" ng-mouseenter="basic.slide = true" ng-mouseleave="basic.slide = false" class="pre-scrollable pb-5" style="z-index: 10; position: relative; width: 250px">
			<div class="text-center text-white h5 m-2 text-truncate">
				{{session}}
				{% if user.is_authenticated and user.settings.premium %}
					<button class="btn btn-xs btn-outline-light ml-2 px-1 py-0 shadow-none text-center" data-toggle="tooltip" title="Copy into new session"
					style="position: absolute; font-size: 0.8em; text-align: center;" ng-click="session.showSession({type:'addSession'});">
						<i class="fas fa-external-link-alt fa-sm"></i>
					</button>
				{% endif %}
			</div>
			<div ng-switch on="basic.isCustom" class="btn-group w-100" style="white-space: nowrap;">
				<input class="form-control block" id="searchBar" style="height: auto" type="text"
					placeholder="Search...">
				<div ng-switch-when="true" class="btn-group">
					<button class="btn btn-danger rounded shadow-none" ng-click="prem.customOff();">&#10005;</button>
					<button class="btn btn-success rounded shadow-none" ng-click="prem.showOverlay({type: 'customGraph'});">&#10003;</button>
				</div>
				<div ng-switch-default class="btn-group">
				{% if user.is_authenticated and user.settings.premium %}	
					<button class="btn btn-info shadow-none always-open" ng-click="prem.customGraph();"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAxCAYAAABK+/BHAAADJElEQVRoQ92ZT6jNQRTHP092SiyVxEpZsbXBTtmwtENZqLdgQymhKGWBlI3yZ2GnKBvZeDt2KBsrsrMiG0v61IzG7d13z8zvN/d1nbq913szcz5z5jtnzsxdYoFtqRP7WWAL8AV4Dvzo4acX/GdgZwLeB7xfVPhdaQVG5+8V+d8FaS8f9BhYuSgbTc0b+S7WA/4g8DrRqnU138V6wJ8AHibaR8DJLuTwj2wOAy9HcGSavJXGuQ2cG2HMVYfIkb8MXAHeAqeBjwMcOo7jaVfTuAOGm941w5fZ4VeawJNGj0pG6WhKRul0sQx/Brg34eEmcL7B6zPgaOp3LJ2wDcPM7lJu2P3AfWBP0e1VWoWvs4f626I8XbsdUHqbzDab0gSOF7Df0gReTJnA3hTpA6mecfIbgQ2Ak3+TpGPOH9WmpcoLwI0JT5eAa8XfzOduTH9GbCVlntHqnLXyvKlTGW0vyJ6mVRDaTWnlWGujpc9Zh9S2NIEjBaGn56Fa4on2Rt8xBpXKs+Czz+vAReATsHsgeO4+uHSIwuvwLrA8EngexouK6bTJovBlsdXkaI1OysfNXG1ReHUezSq1EM3yicCbx9/VElW2bzrMIvBllVjJFG7eVMBF4MtaJUxT2bBp40bgy1qlkinc3Hy/Ndw6NYzAf288SWtZlE6+B0T6rvz38POQjRXn4x6R75njB5UKEdmUd9KIFlvaNFWaEXjLXjdtT2sqESLwQnvCetL2MOuaphI7Ct+zRGiKulGMwtu2fNIYawWatJ6d18Cr/Q/AjpHIB9+movDKxsj702eQoRMQ3EvIoBeFCLx1vMVZedl+AJxqXAFf0Hy/HHR/jWjeB9PylUCHOhbAVXBS+eubWXMxq9wZ8wVtWuSNsjLJz3aCudSCT17ZXBk/PjqVty0nah8/Hv2jvdestWFXi6jAajSy1J7I2crfZ61M9f8nI69ElEqpb9OZ5WoEXIC5fB9Val5Ya2mvfNlKfddEZe7w5ZdgWd+tqWzu8AK7Oc0eNfpebUXWBT5PwMvwEFs3+CHQue9Cw/8sIrB5jGhMGyNSHvT0P2jshYb/A2Ytj2/PKdckAAAAAElFTkSuQmCC"
							style="width: 24px; height: auto;"><span class="openup"> Custom
							Graph</span></button>
					{% if session == "Basic Session" %}
						<button class="btn btn-success shadow-none always-open disabled" disabled="disabled">
							<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAB6klEQVRYR+2X6zFEQRBGv83AZkAEyIAIEAEiQASIgAzIwGZgRUAGZEAG1KmaqWqzdx737szUqtJV++PufcyZfnzdM9OG2awzz4GkZ7PmiaSFZfgH2gQPESZve5LuzPWtpKW5XvYI2feIPJ3/WaAtSWeSdiXh9m2z6y9Jb5JeJD1K4tpaVQ+x+KmDAarEKOMrSR/u4eMgh66DHGIz3haxkLE4L+KVUpAQ9t6B2f8n6RAAD5Lszko8M/QMuz80YRwNBAxKSqhqGTm146BGAdX0TLgZPLXv/gxT4FcR2By6cXlTyzPhd6jA89zHPRBl/LpGAufW8ffxkq2qlfc8EElMRbU2JIEOHzWAiOl7B+94CBLca9Sghy6DhtfaS4gmGjVoeOipkuaUbiQZNoAIl+1NpR+e+hxlPk95aOOAxnTjqV4J34uOPdz47FhhHiwJhCDW7F05L1LylH60ynqJogfIVhkKDVQvY7Cnb0Y9hFKTR70sq9SA9ApbUS8DCGFEj1ob06M9h62sZ8uPAxx9rZUNzdhJIG62koBwto5uOhSoVjM1g1l05LB0Q4pZEwrPMJAVwQCWOkqvm1PM0Mw+4Uk2maO5sz0t5WLkeEsVAZKcnVPCWFJVyAIHxyMnEX5+Yvf8CAlne3RmEoiH+AGJuF1VndddEAAAAABJRU5ErkJggg=="
								style="width: 24px; height: auto;"><span class="openup" data-toggle="tooltip" title="Cannot add custom addresses to Basic Session"> Add Address</span></button>
					{% else %}
						<button class="btn btn-success shadow-none always-open" ng-click="prem.showOverlay({type:'add'});">
							<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAB6klEQVRYR+2X6zFEQRBGv83AZkAEyIAIEAEiQASIgAzIwGZgRUAGZEAG1KmaqWqzdx737szUqtJV++PufcyZfnzdM9OG2awzz4GkZ7PmiaSFZfgH2gQPESZve5LuzPWtpKW5XvYI2feIPJ3/WaAtSWeSdiXh9m2z6y9Jb5JeJD1K4tpaVQ+x+KmDAarEKOMrSR/u4eMgh66DHGIz3haxkLE4L+KVUpAQ9t6B2f8n6RAAD5Lszko8M/QMuz80YRwNBAxKSqhqGTm146BGAdX0TLgZPLXv/gxT4FcR2By6cXlTyzPhd6jA89zHPRBl/LpGAufW8ffxkq2qlfc8EElMRbU2JIEOHzWAiOl7B+94CBLca9Sghy6DhtfaS4gmGjVoeOipkuaUbiQZNoAIl+1NpR+e+hxlPk95aOOAxnTjqV4J34uOPdz47FhhHiwJhCDW7F05L1LylH60ynqJogfIVhkKDVQvY7Cnb0Y9hFKTR70sq9SA9ApbUS8DCGFEj1ob06M9h62sZ8uPAxx9rZUNzdhJIG62koBwto5uOhSoVjM1g1l05LB0Q4pZEwrPMJAVwQCWOkqvm1PM0Mw+4Uk2maO5sz0t5WLkeEsVAZKcnVPCWFJVyAIHxyMnEX5+Yvf8CAlne3RmEoiH+AGJuF1VndddEAAAAABJRU5ErkJggg=="
								style="width: 24px; height: auto;"><span class="openup"> Add Address</span></button>
					{% endif %}
				{% else %}
					<button class="btn btn-info shadow-none always-open disabled" disabled="disabled"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAxCAYAAABK+/BHAAADJElEQVRoQ92ZT6jNQRTHP092SiyVxEpZsbXBTtmwtENZqLdgQymhKGWBlI3yZ2GnKBvZeDt2KBsrsrMiG0v61IzG7d13z8zvN/d1nbq913szcz5z5jtnzsxdYoFtqRP7WWAL8AV4Dvzo4acX/GdgZwLeB7xfVPhdaQVG5+8V+d8FaS8f9BhYuSgbTc0b+S7WA/4g8DrRqnU138V6wJ8AHibaR8DJLuTwj2wOAy9HcGSavJXGuQ2cG2HMVYfIkb8MXAHeAqeBjwMcOo7jaVfTuAOGm941w5fZ4VeawJNGj0pG6WhKRul0sQx/Brg34eEmcL7B6zPgaOp3LJ2wDcPM7lJu2P3AfWBP0e1VWoWvs4f626I8XbsdUHqbzDab0gSOF7Df0gReTJnA3hTpA6mecfIbgQ2Ak3+TpGPOH9WmpcoLwI0JT5eAa8XfzOduTH9GbCVlntHqnLXyvKlTGW0vyJ6mVRDaTWnlWGujpc9Zh9S2NIEjBaGn56Fa4on2Rt8xBpXKs+Czz+vAReATsHsgeO4+uHSIwuvwLrA8EngexouK6bTJovBlsdXkaI1OysfNXG1ReHUezSq1EM3yicCbx9/VElW2bzrMIvBllVjJFG7eVMBF4MtaJUxT2bBp40bgy1qlkinc3Hy/Ndw6NYzAf288SWtZlE6+B0T6rvz38POQjRXn4x6R75njB5UKEdmUd9KIFlvaNFWaEXjLXjdtT2sqESLwQnvCetL2MOuaphI7Ct+zRGiKulGMwtu2fNIYawWatJ6d18Cr/Q/AjpHIB9+movDKxsj702eQoRMQ3EvIoBeFCLx1vMVZedl+AJxqXAFf0Hy/HHR/jWjeB9PylUCHOhbAVXBS+eubWXMxq9wZ8wVtWuSNsjLJz3aCudSCT17ZXBk/PjqVty0nah8/Hv2jvdestWFXi6jAajSy1J7I2crfZ61M9f8nI69ElEqpb9OZ5WoEXIC5fB9Val5Ya2mvfNlKfddEZe7w5ZdgWd+tqWzu8AK7Oc0eNfpebUXWBT5PwMvwEFs3+CHQue9Cw/8sIrB5jGhMGyNSHvT0P2jshYb/A2Ytj2/PKdckAAAAAElFTkSuQmCC"
						style="width: 24px; height: auto;"><span class="openup" data-toggle="tooltip" title="Premium required to create custom graphs"> Custom
						Graph</span></button>
					<button class="btn btn-success shadow-none always-open disabled" disabled="disabled">
						<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAB6klEQVRYR+2X6zFEQRBGv83AZkAEyIAIEAEiQASIgAzIwGZgRUAGZEAG1KmaqWqzdx737szUqtJV++PufcyZfnzdM9OG2awzz4GkZ7PmiaSFZfgH2gQPESZve5LuzPWtpKW5XvYI2feIPJ3/WaAtSWeSdiXh9m2z6y9Jb5JeJD1K4tpaVQ+x+KmDAarEKOMrSR/u4eMgh66DHGIz3haxkLE4L+KVUpAQ9t6B2f8n6RAAD5Lszko8M/QMuz80YRwNBAxKSqhqGTm146BGAdX0TLgZPLXv/gxT4FcR2By6cXlTyzPhd6jA89zHPRBl/LpGAufW8ffxkq2qlfc8EElMRbU2JIEOHzWAiOl7B+94CBLca9Sghy6DhtfaS4gmGjVoeOipkuaUbiQZNoAIl+1NpR+e+hxlPk95aOOAxnTjqV4J34uOPdz47FhhHiwJhCDW7F05L1LylH60ynqJogfIVhkKDVQvY7Cnb0Y9hFKTR70sq9SA9ApbUS8DCGFEj1ob06M9h62sZ8uPAxx9rZUNzdhJIG62koBwto5uOhSoVjM1g1l05LB0Q4pZEwrPMJAVwQCWOkqvm1PM0Mw+4Uk2maO5sz0t5WLkeEsVAZKcnVPCWFJVyAIHxyMnEX5+Yvf8CAlne3RmEoiH+AGJuF1VndddEAAAAABJRU5ErkJggg=="
							style="width: 24px; height: auto;"><span class="openup" data-toggle="tooltip" title="Premium required to add custom addresses"> Add Address</span></button>
				{% endif %}
				</div>
			</div>

			<div id='accordion' style="margin-bottom: 75px" class="accordion shadow">
				<div class="text-center mt-1" id="spinner" style="display: none;">
					<div class="spinner-grow text-success" role="status">
						<span class="sr-only">Loading...</span>
					</div>
				</div>
				<div ng-if="basic.tempAddr.addr.length == 34" class="list-group sticky-top sticky-offset">
					<div ng-switch on="basic.isCustom" data-addy="{% verbatim %}{{ basic.tempAddr.addr }}{% endverbatim %}">
						<div ng-switch-when="true">
							<div class="bg-dark list-group-item list-group-item-action" style="height: 50px">
								<div class="d-inline-block w-75 justify-content-start align-items-center text-truncate">
									<span class="menu-collapsed"
										ng-attr-id="{% verbatim %}{{ basic.tempAddr.addr }}{% endverbatim %}">{% verbatim %}{{ basic.tempAddr.addr }}{% endverbatim %}</span>
								</div>
								<div class="custom-control custom-radio custom-control-inline float-right">
									<input type="checkbox" id="tempRadio" class="custom-control-input"
										ng-click="prem.toggle(basic.tempAddr.addr)">
									<label class="custom-control-label" for="tempRadio"
										style='cursor: pointer;'></label>
								</div>
							</div>
						</div>
						<div ng-switch-default>
							<a href id="tempAddr" target="iframe_a" class="bg-dark list-group-item list-group-item-action text-truncate">
								{% verbatim %}{{ basic.tempAddr.addr }}{% endverbatim %}
							</a>
						</div>
					</div>
				</div>
				<div ng-repeat="category in basic.known | orderBy:basic.sortGroups">
					<div class="category shadow" name="{% verbatim %}{{category.name}}{% endverbatim %}">
						<button class='btn btn-dark btn-group float-right m-1 mr-2 ml-2 shadow'
							style='z-index: 100; height: 42px' data-toggle="collapse"
							data-target="#{% verbatim %}{{category.name}}{% endverbatim %}" aria-expanded="false"
							aria-controls="{% verbatim %}{{category.name}}{% endverbatim %}"
							ng-disabled="category.addrs.length < 1">
							<i class="fas fa-caret-down mt-1 flipped"></i>
						</button>
						<div ng-switch on="basic.isCustom" class="ng-cloak text-truncate"
							style="overflow: visible !important;"
							ng-attr-id='{% verbatim %}{{category.name}}{% endverbatim %}_heading'>
							<div ng-switch-when="true">
								<div class="bg-secondary list-group-item list-group-item-action" style="color: white;">
									{% verbatim %}{{category.name}}{% endverbatim %}
								</div>
							</div>
							<div ng-switch-default>
							{% if user.is_authenticated and user.settings.premium and session != "Basic Session" %}	
								<button
									class='btn btn-outline-info btn-sm btn-group float-right m-2 mr-n1 btn-overlap shadow'
									data-toggle="modal" data-target="#overlay" ng-click="prem.showOverlay({type:'editCat',cat:category.name, id:category.uuid,url:category.url,filters:category.filters});">
									<i class="fas fa-edit" style="font-size: 1.2em; margin-top: 0.1em"></i>
								</button>
							{% else %}
								<!--
								<button class='btn btn-outline-info btn-sm btn-group float-right m-2 mr-n1 btn-overlap shadow'>
									<span class="fa-layers fa-fw">
										<i class="fas fa-edit"></i>
										<i class="fas fa-lock fa-lg" style="opacity: 0.25; color: black"></i>
									</span>
								</button>
								-->
							{% endif %}
								<a href="{% verbatim %}{{category.url}}{% endverbatim %}" target="iframe_a"
									class="bg-secondary list-group-item list-group-item-action" style="color: white;"
									ng-class="{disabled: category.addrs.length < 1}" ng-click="basic.startLoader()">
									{% verbatim %}{{category.name}}{% endverbatim %}
								</a>
							</div>
						</div>
					</div>
					<div class="collapse" ng-attr-id="{% verbatim %}{{category.name}}{% endverbatim %}"
						data-parent="#accordion">
						<div class="list-group sticky-top sticky-offset"
							aria-labelledby="{% verbatim %}{{category.name}}{% endverbatim %}_heading"
							ng-repeat="x in category.addrs | orderBy:'name' track by $index">
							<div ng-switch on="basic.isCustom" class="addr"
								data-addy="{% verbatim %}{{x.addr}}{% endverbatim %}">
								<div ng-switch-when="true">
									<div class="bg-dark list-group-item list-group-item-action" style="height: 50px">
										<div
											class="d-inline-block w-80 justify-content-start align-items-center text-truncate">
											<span class="menu-collapsed"
												ng-attr-id="{% verbatim %}{{x.addr}}{% endverbatim %}">{% verbatim %}{{x.name}}{% endverbatim %}</span>
										</div>
										<div class="custom-control custom-radio custom-control-inline float-right">
											<input type="checkbox"
												ng-attr-id="customRadioInline{% verbatim %}{{$index}}{% endverbatim %}"
												class="custom-control-input" ng-click="prem.toggle(x.addr)">
											<label class="custom-control-label"
												for="customRadioInline{% verbatim %}{{$index}}{% endverbatim %}"
												style='cursor: pointer;'></label>
										</div>
									</div>
								</div>
								<div ng-switch-default style="white-space: nowrap;">
								{% if user.is_authenticated and user.settings.premium and session != "Basic Session" %}	
									<button
										class="btn btn-outline-danger btn-sm btn-group float-right m-2 mr-2 btn-overlap shadow"
										ng-click="prem.showOverlay({type:'delete',name:x.name,addr:x.addr,cat:category.uuid});">
										<i class="fas fa-trash" style="font-size: 1.3em; margin-top: 0.1em"></i>
									</button>
									<button
										class='btn btn-outline-info btn-sm btn-group float-right m-2 mr-n1 btn-overlap shadow'
										ng-click="prem.showOverlay({type:'edit',name:x.name,addr:x.addr,cat:category.name,catId:category.uuid,url:x.url,filters:x.filters});">
										<i class="fas fa-edit" style="font-size: 1.2em; margin-top: 0.1em"></i>
									</button>
								{% endif %}
									<a href="{% verbatim %}{{x.url}}{% endverbatim %}" id="addr" target="iframe_a"
										class="bg-dark list-group-item list-group-item-action"
										ng-click="prem.startLoader()">
										{% verbatim %}{{x.name}}{% endverbatim %}
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- List Group END-->
		</div>
		<!-- sidebar-container END -->

		<div style="position: relative; align-items:center;" class="d-inline-flex">
			<div id="dragbar" ng-class="{'resize-cursor': basic.toggleBar}"><div class="arrow-right" ng-class="{'slide-right': !basic.toggleBar}"></div></div>
			<a id="dragcircle" ng-click="basic.toggleSide();" ng-when href="" class="justify-content-center d-inline-flex text-white drag" ng-class="{'slide-right': basic.slide || !basic.toggleBar}">
				<i class="fas fa-caret-left flipped"></i>
			</a>
			
			<nav aria-label="breadcrumb" id="breadcrumb" ng-class="{'drag': basic.breadcrumbs.length > 0, 'slide-right': basic.breadcrumbs.length > 0 && basic.slide}" style="position: absolute; top: 0; right: 0; z-index: 8; width: max-content; opacity: 0.85;">
				<ol class="breadcrumb bg-dark shadow h6">
					<li class="breadcrumb-item text-primary text-truncate" ng-repeat="crumb in basic.breadcrumbs.slice(0, basic.activeCrumb)">
						<a target="iframe_a" href="{% verbatim %}{{crumb.link}}{% endverbatim %}" ng-click="basic.addBreadcrumb({'link': crumb.link, 'name': crumb.name});">{% verbatim %}{{crumb.name}}{% endverbatim %}</a>
					</li>
					<li class="breadcrumb-item text-white text-truncate active" aria-current="page" data-placement="bottom">
						{% verbatim %}{{basic.breadcrumbs[basic.activeCrumb].name}}{% endverbatim %}
					</li>
					<li class="breadcrumb-item text-primary text-truncate" ng-repeat="crumb in basic.breadcrumbs.slice(basic.activeCrumb + 1, basic.breadcrumbs.length)">
						<a target="iframe_a" href="{% verbatim %}{{crumb.link}}{% endverbatim %}" ng-click="basic.addBreadcrumb({'link': crumb.link, 'name': crumb.name});">{% verbatim %}{{crumb.name}}{% endverbatim %}</a>
					</li>
				</ol>
			</nav>
		</div>

		<!-- MAIN -->
		<div style="flex-grow: 1; flex-basis: 0;" id="frame">
			<iframe id="iframe1" frameborder="0" name="iframe_a" src=""></iframe>
			<div ng-if="!basic.loaded" style="position: absolute; display: block; left:40%; top:35%; z-index: 10000">
				<div class="spinner-grow mx-auto" style="width: 15rem; height: 15rem;" role="status">
					<span class="sr-only">Loading...</span>
				</div>
			</div>
			<!--
			<iframe id="iframe1" frameborder="0" name="iframe_a" src="{{coin}}/search/0"></iframe>
			-->
		</div>
	</div>
{% elif not coin %}
	<div id="iframe1">
		<h2 class="position-absolute text-light" style="top: 20%; left: 50%; transform: translate(-50%); z-index: 100;">Blockchain Explorer Through Graphs!</h2>
		<div id="graph" class="bg-dark" style="height: 100%; width: 100%"></div>
		<!--<a class="btn btn-lg btn-success shadow position-absolute" href="/usdt/" style="left: 40%; top: 49%;">USDT</a>-->
		<script>
			var container = document.getElementById('graph');
			//container.style = "cursor: wait";

			// adding nodes and edges to the graph
			data = {
				nodes: new vis.DataSet([
					{id: 1, label: 'Site', y: -300, size: 150},
					{id: 2, label: 'Name', y: -300, size: 150},
					{id: 3, x: -100, y: 0, label: "USDT", url: location.href + "usdt/", group: "link", color: {background: "#26A17B"}},
					{id: 4, x: 100, y: 0, label: "BTC", "title": "Coming Soon!", group: "link", color: {background: "#FF9900"}}
				]),
				edges: new vis.DataSet([
					{from: 3, to: 1},
					{from: 1, to: 2},
					{from: 2, to: 4},
					{from: 3, to: 4}
				])
			};

			var solver = "forceAtlas2Based";

			var options = {
				"nodes": {
					"shape": "dot",
					"borderWidthSelected": 1,
					"font": {
						"color": "#ffffff",
						"size": 75,
					},
					"color": {
						"highlight": {
							"border": "#1f8766",
							"background": "#e5ff00"
						}
					}
				},
				"edges": {
					"arrows": {
						"to": {
							"enabled": true
						}
					},
					"arrowStrikethrough": false,
					"color": {
						"highlight": "#e5ff00",
						"hover": "#0062ff"
					},
					"smooth": {
						"type": "dynamic",
						"forceDirection": "none"
					},
					"font": {
						"color": "#000000"
					}
				},
				"interaction": {
					"dragNodes": true,
					"hideEdgesOnDrag": false,
					"hideNodesOnDrag": false,
					"hover": true,
					"tooltipDelay": 100,
					"hoverConnectedEdges": true,
					"dragView": false,
					"zoomView": false
				},
				"groups": {
					"link": {
						"shape": "box",
						"size": 50,
						"font": {
							"size": 60,
							"face": "Candara"
						},
						"fixed": {
							"x": true, 
							"y": true
						},
						"shadow": {
							"enabled": true, 
							"size": 10
						},
						"color": {
							"border": "black"
						}
					}
				},
				"layout": {
					"improvedLayout": false
				},
				"physics": {
					'stabilization': {
						'enabled': true,
						'iterations': 2000,
						'updateInterval': 25
					},
					"repulsion": {
						"nodeDistance": 400,
						"springLength": 300
					},
					"forceAtlas2Based": {
						"avoidOverlap": 0.85
					},
					"enabled": true,
					"solver": "forceAtlas2Based"
				}
			};
			
			network = new vis.Network(container, data, options);

			network.on("hoverNode", function (params) {
				if (data.nodes.get(params.node).url) {
					network.canvas.body.container.style.cursor = 'pointer';
				}				
			});

			network.on("blurNode", function (params) {
				network.canvas.body.container.style.cursor = 'auto';
			});

			network.on("click", function (properties) {
				if (properties.nodes.length === 1) {
					var node = data.nodes.get(properties.nodes[0]);
					if (node.url) {
						location = node.url
					}
				}
			});

			$(window).resize(function() {
				network.fit({
					animation: false
				});
			});
		</script>
	</div>
{% else %}
	<div id="iframe1" class="position-absolute text-center pb-5" style="overflow-y: auto;">
		<h2 class="mt-5">USDT Statistics</h2>
		<h2>Sessions</h2>
		<div class="card-group justify-content-center">
			<a href="basic" style="text-decoration:none" id="basic">
				<div class="card m-4 text-white bg-dark shadow shadow-lg" style="max-width: 18rem; max-height: 12rem;" ng-init="session.mouseExit('basic')" ng-mouseenter="session.mouseEnter('basic')" ng-mouseleave="session.mouseExit('basic')">
					<h5 class="card-header">
						{{basic_session.name}}
					</h5>
					<div class="card-body">
						<h5 class="card-title">Addresses</h5>
						<p class="card-text ">
						{% for addr in basic_session.addrs %}
							<span class="mx-2">
								{{ addr.name }}
							</span>
						{% endfor %}
						</p>
					</div>
				</div>
			</a>
	{% if request.user.is_authenticated and request.user.settings.premium %}
		{% for session in sessions %}
			<a href="{{session.url}}" id="{{session.uuid}}" style="text-decoration:none">
				<div class="card m-4 text-white bg-dark shadow shadow-lg" style="max-width: 18rem; max-height: 12rem; min-height: 12rem;" ng-init="session.mouseExit('{{session.uuid}}')" ng-mouseenter="session.mouseEnter('{{session.uuid}}')" ng-mouseleave="session.mouseExit('{{session.uuid}}')">
					<h5 class="card-header">
						<button class="btn btn-xs btn-outline-info px-1 py-0 shadow-none text-center"
						style="font-size: 0.8em; z-index: 100;" ng-click="session.showSession({type:'editSession', uuid:'{{session.uuid}}', name:'{{session.name}}'});">
							<i class="fas fa-edit"></i>
						</button>
						<span>{{ session.name }}</span>
						<button class="btn btn-xs btn-outline-danger px-1 py-0 shadow-none text-center"
						style="font-size: 0.8em;" ng-click="session.showSession({type:'delSession', uuid:'{{session.uuid}}', name:'{{session.name}}'})">
							<i class="fas fa-trash"></i>
						</button>
					</h5>
					<div class="card-body">
						<h5 class="card-title">Addresses</h5>
						<p class="card-text">
						{% for addr in session.addrs %}
							<span class="mx-2">
								{{ addr.name }}
							</span>
						{% endfor %}
						</p>
					</div>
				</div>
			</a>
		{% endfor %}
			<a ng-click="session.showSession({type:'addSession'});" style="text-decoration:none;cursor:pointer;">
				<div class="card m-4 text-white border-dark justify-content-center" style="width: 18rem; height: 12rem;background-color: rgba(0,0,0,0.0);">
					<i class="far fa-plus-square fa-3x mx-auto" style="z-index: 100; color: black"></i>
				</div>
			</a>
	{% endif %}
		</div>
	</div>
{% endif %}
	<script src="{% static 'js/index.js' %}">
	</script>
</body>
</html>