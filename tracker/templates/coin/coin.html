<!DOCTYPE html>
{% load static %}
{% load coin_extras %}
<html ng-app="txs">

<head>
	<meta charset="utf-8">
	<title>USDT/BTC Market Tracker</title>
	<link rel="shortcut icon" href="{% static 'images/tracking.png' %}">
	<meta content="width=device-width, initial-scale=1" name="viewport">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis.css" type="text/css" />
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.16.1/vis-network.min.js"> </script>
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script src="https://unpkg.com/popper.js/dist/umd/popper.min.js"></script>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.6/angular.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.11/lodash.min.js"></script>
	<script src="https://morgul.github.io/ui-bootstrap4/ui-bootstrap-tpls-3.0.6.min.js"></script>
	<script src="{% static 'js/clipboard.min.js' %}"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css"/>
	<style type="text/css">
		#graph {
			width: 95%;
			height: 75vh;
			margin-left: 2.3vw;
			background-color: #ffffff;
			border: 1px solid rgb(0, 0, 0);
			position: relative;
		}

		.noselect {
			-webkit-touch-callout: none;
			/* iOS Safari */
			-webkit-user-select: none;
			/* Safari */
			-khtml-user-select: none;
			/* Konqueror HTML */
			-moz-user-select: none;
			/* Firefox */
			-ms-user-select: none;
			/* Internet Explorer/Edge */
			user-select: none;
			/* Non-prefixed version, currently
                                  supported by Chrome and Opera */
		}

		.btn-icon {
			padding: 0;
		}

		.tooltip-inner {
			white-space: nowrap;
		}

		body {
			background-color: rgba(86, 166, 252, 0.75)
		}

		body::-webkit-scrollbar-track {
			-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
			border-radius: 10px;
			background-color: #333;
		}

		body::-webkit-scrollbar {
			width: 12px;
			background-color: rgba(86, 166, 252, 0.75);
		}

		body::-webkit-scrollbar-thumb {
			border-radius: 10px;
			-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);
			background-color: #6c757d;
		}


		a {
			cursor: pointer;
		}

		.loader {
			border: 16px solid #f3f3f3;
			border-radius: 50%;
			border-top: 16px solid #3498db;
			width: 16px;
			height: 16px;
			-webkit-animation: spin 2s linear infinite; /* Safari */
			animation: spin 2s linear infinite;
		}

		/* Safari */
		@-webkit-keyframes spin {
			0% { -webkit-transform: rotate(0deg); }
			100% { -webkit-transform: rotate(360deg); }
		}

		@keyframes spin {
			0% { transform: rotate(0deg); }
			100% { transform: rotate(360deg); }
		}
	</style>
{%if edges == null %}
	<div class="h2 text-center mx-auto">{{search.address}}</div>
	<div class="h1 text-center">No Transactions Yet</div>
{% else %}
	<script>
		// initialize global variables.
		var allEdges = {{edges|safe}}
		var allNodes = {{nodes|safe}}
		var nodes = allNodes;
		var edges = allEdges.collapsed;
		var network;
		var container;
		var options, data;
		var satoshi = 100000000.0;
	</script>
	<script>
		(function () {
			'use strict';

			angular
				.module('txs', [])
				.factory('PagerService', PagerService)
				.controller('txsController', ['PagerService', 'orderByFilter', 'filterFilter', txs]);

			function txs(PagerService, orderBy, filter) {
				var vm = this;

				vm.txs = [];
				vm.pager = {};	
				vm.reverse = false;
				vm.dropText = "Most Recent";
				vm.collapseText = "Show All Transactions"
				vm.isCollapsed = true;
				vm.selection = {
					type: '',
					data: {}
				};
				
				vm.setPage = function setPage(page) {
					if (vm.pager.totalPages < 1) {
						vm.pager = PagerService.GetPager(vm.txs.length, page);
					}
					if (page < 1 || page > vm.pager.totalPages) {
						return;
					}

					// get pager object from service
					vm.pager = PagerService.GetPager(vm.txs.length, page);

					// get current page of items
					vm.items = vm.txs.slice(vm.pager.startIndex, vm.pager.endIndex + 1);

					
					$(function () {
						$('[data-toggle="tooltip"]').tooltip({
							trigger : 'hover'
						});  
					});
				}

				vm.setTxs = function(txs) {
					if (txs == undefined) {
						txs = vm.prevTxs;
					}
					
					vm.txs = txs;
					/*
					vm.txs = [];
					for (var i = 0; i < txs.length; i++) {
						vm.txs.push({
							amount: txs[i].amount,
							from: txs[i].from,
							to: txs[i].to,
							source: txs[i].source,
							target: txs[i].target,
							id: txs[i].id,
							time: txs[i].time,
							txid: txs[i].txid,
							txidUrl: txs[i].txidUrl,
							sourceUrl: txs[i].sourceUrl,
							targetUrl: txs[i].targetUrl
						});
					}
					*/

					if (vm.dropText === 'Most Recent') {
						vm.txs = orderBy(vm.txs, 'time', true);
					} else if (vm.dropText === 'Transaction Amount ↓') {
						vm.txs = orderBy(vm.txs, 'amount', true);
					} else if (vm.dropText === 'Transaction Amount ↑') {
						vm.txs = orderBy(vm.txs, 'amount', false);
					}

					vm.setPage(1);
					vm.selection = {
						type: '',
						data: {}
					};
				}

				vm.collapse = function(isCollapse) {
					if (isCollapse !== undefined) {
						vm.isCollapsed = isCollapse;
					}
					if (vm.isCollapsed) {
						vm.isCollapsed = false;
						vm.collapseText = 'Collapse Transactions';
						$(function () {
							$('input[name="minTime"]').daterangepicker({
								singleDatePicker: true,
								timePicker: true,
								showDropdowns: true,
								minDate: moment.unix($('div[name="dateTimes"]').attr('data-minDate')).format('M/DD/YY hh:mm A'),
								maxDate: moment.unix($('div[name="dateTimes"]').attr('data-maxDate')).format('M/DD/YY hh:mm A'),
								locale: {
									format: 'M/DD/YY hh:mm A'
								}
							});
							$('input[name="maxTime"]').daterangepicker({
								singleDatePicker: true,
								timePicker: true,
								showDropdowns: true,
								minDate: moment.unix($('div[name="dateTimes"]').attr('data-minDate')).format('M/DD/YY hh:mm A'),
								maxDate: moment.unix($('div[name="dateTimes"]').attr('data-maxDate')).format('M/DD/YY hh:mm A'),
								locale: {
									format: 'M/DD/YY hh:mm A'
								}
							});
						});
						var d = new Date();
						d.setDate(d.getDate() - 30);
						vm.graphFilters = {
							node: {
								'balance': {
									min: 0,
									max: vm.maxBal
								}
							}, edge: {
								'amount': {
									min: 0,
									max: vm.maxTx
								}, 'time': {
									min: moment.unix(d.getTime()/1000).format('M, DD, YY h:mm:ss A'),
									max: moment.unix(vm.maxTime).format('M, DD, YY h:mm:ss A')
								}
							}
						}
						edges = allEdges.all;
						nodes = allNodes;
					} else if (!vm.isCollapsed) {
						vm.isCollapsed = true;
						vm.collapseText = 'Show All Transactions';
						edges = allEdges.collapsed;
						nodes = allNodes;
						vm.graphFilters = {
							node: {
								'balance': {
									min: 0,
									max: vm.maxBal
								}
							}, edge: {
								'amount': {
									min: 0,
									max: vm.maxTotalTx
								}, 'avgTx': {
									min: 0,
									max: vm.maxAvgTx
								}, 'txsNum': {
									min: 1,
									max: vm.maxTxsNum
								}
							}
						}
					}
					$(function () {
						$('[data-toggle="tooltip"]').tooltip({
							trigger : 'hover'
						});  
					});
					vm.currentId = 0;
					vm.setTxs(allEdges.all);
					vm.prevTxs = vm.txs;
					vm.setFilters();
				}

				vm.setTxs(allEdges.all);

				var txInc = orderBy(vm.txs, 'value', false);
				var timeInc = orderBy(vm.txs, 'time', false);

				vm.prevTxs = vm.txs;
				vm.minTx = txInc[0].value;
				vm.maxTx = txInc[vm.txs.length - 1].value;
				vm.maxTotalTx = orderBy(allEdges.collapsed, 'value', true)[0].value;
				vm.maxBal = orderBy(allNodes, 'balVal', true)[0].balVal;
				vm.maxAvgTx = orderBy(allEdges.collapsed, 'avgTxVal', true)[0].avgTxVal;
				vm.minTime = timeInc[0].time;
				vm.lastTx = vm.minTime;
				vm.maxTime = moment().unix();
				vm.maxTxsNum = orderBy(allEdges.collapsed, 'txsNum', true)[0].txsNum;
				vm.currentId = 0;

				vm.sortBy = function(propertyName, reverse) {
					if (propertyName == "time") {
						vm.dropText = "Most Recent";
					} else if (propertyName == "amount" && reverse) {
						vm.dropText = "Transaction Amount ↓"
					} else if (propertyName == "amount" && !reverse) {
						vm.dropText = "Transaction Amount ↑"
					}
					
					vm.txs = orderBy(vm.txs, propertyName, reverse);
					vm.setPage(vm.pager.currentPage);
				}

				vm.rangeBy = function(fieldName, minValue, maxValue) {
					if (minValue === undefined) minValue = 0;
					if (maxValue === undefined) maxValue = Number.MAX_VALUE;

					return function predicateFunc(item) {
						return minValue <= item[fieldName] && item[fieldName] <= maxValue;
					};
				}

				vm.setMaxTx = function() {
					if (vm.isCollapsed) {
						$('#maxTx').val(vm.maxTotalTx);
					} else {
						$('#maxTx').val(vm.maxTx);
					}
				}

				vm.setMaxBal = function() {
					$('#maxBal').val(vm.maxBal);
				}

				vm.setMaxAvgTx = function() {
					$('#maxAvgTx').val(vm.maxAvgTx);
				}

				vm.setMaxTxsNum = function() {
					$('#maxTxsNum').val(vm.maxTxsNum);
				}

				vm.setFilters = function() {
					let filters = vm.graphFilters;
					let tempNodes;
					let txs = allEdges[(vm.isCollapsed) ? 'collapsed' : 'all'];
					let tempTxs = [];
					for (let nodeFilter in filters.node) {
						tempNodes = filter(allNodes, vm.rangeBy(nodeFilter, filters.node[nodeFilter].min, filters.node[nodeFilter].max))						
					}
					let nodeIds = _.map(tempNodes, 'id');
					for (var i = 0; i < txs.length; i++) {
						let isSource = false;
						let isTarget = false;
						for (var n = 0; n < nodeIds.length; n++) {
							if (txs[i].from == nodeIds[n]) {
								isSource = true;
							} else if (txs[i].to == nodeIds[n]) {
								isTarget = true;
							}
							if (isSource && isTarget) {
								tempTxs.push(txs[i]);
								break;
							}
						}
					}
					for (let edgeFilter in filters.edge) {
						if (edgeFilter == 'time') {
							filters.edge[edgeFilter].min = moment(filters.edge[edgeFilter].min, 'M/DD/YY hh:mm A').unix();
							filters.edge[edgeFilter].max = moment(filters.edge[edgeFilter].max, 'M/DD/YY hh:mm A').unix();
						}						
						tempTxs = filter(tempTxs, vm.rangeBy(edgeFilter, filters.edge[edgeFilter].min, filters.edge[edgeFilter].max))
						if (edgeFilter == 'time') {
							filters.edge[edgeFilter].min = moment.unix(filters.edge[edgeFilter].min).format('M/DD/YY hh:mm A');
							filters.edge[edgeFilter].max = moment.unix(filters.edge[edgeFilter].max).format('M/DD/YY hh:mm A');
						}					
					}					
					edges = tempTxs;
					nodes = tempNodes;

					if (vm.isCollapsed) {
						tempTxs = getTxsFromCollapsed(tempTxs);
					}
					vm.setTxs(tempTxs);
					vm.currentId = 0;
					drawGraph(true);
				}

				vm.highlight = function(id, isNode) {
					if (isNode) {
						network.selectNodes([id], false);
						network.focus(id, {scale: 1, animation: true});
						return;
					}
					if (vm.isCollapsed) {
						let source;
						let target;
						for (var i = 0; i < vm.txs.length; i++) {
							if (vm.txs[i].id == id) {
								source = vm.txs[i].source;
								target = vm.txs[i].target;
								break;
							}
						}
						for (var i = 0; i < allEdges.collapsed.length; i++) {
							if (allEdges.collapsed[i].source == source && allEdges.collapsed[i].target == target) {
								id = allEdges.collapsed[i].id
								break;
							}
						}
					}
					network.fit({animation: true});
					network.selectEdges([id]);
				}

				vm.select = function(properties) {
					vm.prevTxs = vm.txs;
					if (properties.nodes.length > 0) {
						let id = properties.nodes[0];
						let node = data.nodes.get(id);
						/*
						for (var i = 0; i < allNodes.length; i++) {
							if (allNodes[i].id == id) {
								node = allNodes[i];
								break;
							}
						}
						*/
						
						if (node.label != "{{search.label}}" && properties.edges.length > 0) {
							let edges = properties.edges;
							let tempEdges = [];
							let txs = allEdges[(vm.isCollapsed) ? 'collapsed' : 'all'];
							
							for (var i = 0; i < txs.length; i++) {
								for (var e = 0; e < edges.length; e++) {
									if (txs[i].id == edges[e]) {
										tempEdges.push(txs[i]);
										edges.splice(e, 1);
										break;
									}
								}
							}
							if (vm.isCollapsed) {
								tempEdges = getTxsFromCollapsed(tempEdges);
							}
							vm.setTxs(tempEdges);
						} else if (node.label == "{{search.label}}") {
							vm.setTxs();
						}
						vm.selection = {
							type: 'node',
							data: node
						}
						$(function () {
							$('[data-toggle="tooltip"]').tooltip({
								trigger : 'hover'
							});  
						});
						return;
					}
					let id = properties.edges[0];
					/*
					for (var i = 0; i < vm.txs.length; i++) {
						if (vm.txs[i].id == id) {
							if (!vm.isCollapsed) {
								vm.selection = {
									type: 'tx',
									data: vm.txs[i]
								}
								$(function () {
									$('[data-toggle="tooltip"]').tooltip({
										trigger : 'hover'
									});  
								});
								return;
							}
						}
					}
					*/
					if (!vm.isCollapsed && id != undefined) {
						let tempEdge = data.edges.get(id);
						vm.selection = {
							type: 'tx',
							data: tempEdge
						}
						$(function () {
							$('[data-toggle="tooltip"]').tooltip({
								trigger : 'hover'
							});  
						});
						return;
					}
					for (var i = 0; i < allEdges.collapsed.length; i++) {
						if (allEdges.collapsed[i].id == id) {
							let tempTxs = getTxsFromCollapsed([allEdges.collapsed[i]]);
							vm.setTxs(tempTxs);
							vm.selection = {
								type: 'txTotal',
								data: allEdges.collapsed[i]
							}
							$(function () {
								$('[data-toggle="tooltip"]').tooltip({
									trigger : 'hover'
								});  
							});
							return;
						}
					}
				}

				vm.targetBTC = function(txid, from) {
					if (txid == undefined) {
						document.getElementById('graph').style = "cursor: wait";
						network.setOptions({"physics":{"enabled":true}});
						txid = vm.selection.data.txid;
						$.get(`https://chain.api.btc.com/v3/tx/${txid}?verbose=3`, response => {
							response = response.data;
							let addr = data.nodes.get(vm.selection.data.to).address
							for (var i = 0; i < response.outputs.length; i++) {
								if (response.outputs[i].addresses[0] == addr) {
									txid = response.outputs[i].spent_by_tx;
									break;
								}
							}
							if (txid == null) {
								setTimeout(function() {
									stopPhysics();
								}, 1000);								
								return;
							}
							setTimeout(function() {
								console.log("next tx")
								vm.targetBTC(txid, vm.selection.data.to);
							}, 500)
						});
					} else {
						var date = new Date();
						$.get(`https://chain.api.btc.com/v3/tx/${txid}?verbose=3`, response => {
							response = response.data;
							console.log(response);
							txid = response.outputs[0].spent_by_tx;
							
							for (var i = 0; i < response.outputs.length; i++) {
								var to = null;
								let tempAllNodes = data.nodes.get();
								for (var j = 0; j < tempAllNodes.length; j++) {
									if (tempAllNodes[j].address == response.outputs[i].addresses[0]) {
										to = tempAllNodes[j].id;
										break;
									}
								}

								if (to === null) {
									vm.currentId++;
									to = vm.currentId;
									data.nodes.add({
										"id": to,
										"label": response.outputs[i].addresses[0],
										"address": response.outputs[i].addresses[0],
										"balance": 0,
										"group": "",
										"lastUpdate": date.getTime()/1000,
										"url": `https://blockexplorer.com/address/${response.outputs[i].addresses[0]}`,
										"walletName": "none",
										"value": 25.0,
										"img": vm.selection.data.img,
										"title": `Address: ${response.outputs[i].addresses[0]}<br>Balance: ${'None'}<br>Wallet: ${'None'}<br>Last Updated: ${moment().format('YYYY-MM-DD, hh:mm:ss')}`
									});
								}
								vm.currentId++;
								let fromNode = data.nodes.get(from);
								let toNode = data.nodes.get(to);
								data.edges.add({
									"from": from,
									"to": to,
									"id": vm.currentId,
									"value": response.outputs[i].value/satoshi,
									"source": fromNode.label,
									"target": toNode.label,
									"amount": response.outputs[i].value/satoshi,
									"time": response.block_time,
									"txid": response.hash,
									"img": vm.selection.data.img,
									"color": {
										"color": "#F9A540"
									},
									"txidUrl": `https://blockexplorer.com/tx/${response.hash}`,
									"sourceUrl": `https://blockexplorer.com/address/${fromNode.address}`,
									"targetUrl": `https://blockexplorer.com/address/${toNode.address}`,
									"title": `Collapsed: False<br>Txid: ${response.hash}<br>Total: ${response.outputs[i].value/satoshi}<br>Time: ${moment.unix(response.block_time).format('YYYY-MM-DD, hh:mm:ss')}`
								});
								network.focus(to, {scale: 0.75, locked: true, animation: {duration: 100}});
							}							
							if (txid == null || response.outputs_count > 1) {
								setTimeout(function() {
									stopPhysics();
								}, 1000);
								return;
							}
							setTimeout(function() {
								console.log("next tx")
								vm.targetBTC(txid, to);
							}, 750);
						});
					}
				}
				
				vm.sourceBTC = function(txid, to) {
					if (txid == undefined) {
						document.getElementById('graph').style = "cursor: wait";
						network.setOptions({"physics":{"enabled":true}});
						txid = vm.selection.data.txid;
						$.get(`https://chain.api.btc.com/v3/tx/${txid}?verbose=3`, response => {
							response = response.data;
							let addr = data.nodes.get(vm.selection.data.from).address
							for (var i = 0; i < response.inputs.length; i++) {
								if (response.inputs[i].prev_addresses[0] == addr) {
									txid = response.outputs[i].spent_by_tx;
									break;
								}
							}
							if (txid == null) {
								setTimeout(function() {
									stopPhysics();
								}, 1000);								
								return;
							}
							setTimeout(function() {
								console.log("next tx")
								vm.sourceBTC(txid, vm.selection.data.to);
							}, 500)
						});
					} else {
						var date = new Date();
						$.get(`https://chain.api.btc.com/v3/tx/${txid}?verbose=3`, response => {
							response = response.data;
							console.log(response);
							txid = response.inputs[0].prev_tx_hash;
							
							for (var i = 0; i < response.inputs.length; i++) {
								var to = null;
								let tempAllNodes = data.nodes.get();
								for (var j = 0; j < tempAllNodes.length; j++) {
									if (tempAllNodes[j].address == response.inputs[i].prev_addresses[0]) {
										to = tempAllNodes[j].id;
										break;
									}
								}

								if (to === null) {
									vm.currentId++;
									to = vm.currentId;
									data.nodes.add({
										"id": to,
										"label": response.inputs[i].prev_addresses[0],
										"address": response.inputs[i].prev_addresses[0],
										"balance": 0,
										"group": "",
										"lastUpdate": date.getTime()/1000,
										"url": `https://blockexplorer.com/address/${response.inputs[i].prev_addresses[0]}`,
										"walletName": "none",
										"value": 25.0,
										"img": vm.selection.data.img,
										"title": `Address: ${response.inputs[i].prev_addresses[0]}<br>Balance: ${'None'}<br>Wallet: ${'None'}<br>Last Updated: ${moment().format('YYYY-MM-DD, hh:mm:ss')}`
									});
								}
								vm.currentId++;
								let fromNode = data.nodes.get(from);
								let toNode = data.nodes.get(to);
								data.edges.add({
									"from": from,
									"to": to,
									"id": vm.currentId,
									"value": response.inputs[i].prev_value/satoshi,
									"source": fromNode.label,
									"target": toNode.label,
									"amount": response.inputs[i].prev_value/satoshi,
									"time": response.block_time,
									"txid": response.hash,
									"img": vm.selection.data.img,
									"color": {
										"color": "#F9A540"
									},
									"txidUrl": `https://blockexplorer.com/tx/${response.hash}`,
									"sourceUrl": `https://blockexplorer.com/address/${fromNode.address}`,
									"targetUrl": `https://blockexplorer.com/address/${toNode.address}`,
									"title": `Collapsed: False<br>Txid: ${response.hash}<br>Total: ${response.inputs[i].prev_value/satoshi}<br>Time: ${moment.unix(response.block_time).format('YYYY-MM-DD, hh:mm:ss')}`
								});
								network.focus(to, {scale: 0.75, locked: true, animation: {duration: 100}});
							}							
							if (txid == null || response.inputs_count > 1) {
								setTimeout(function() {
									stopPhysics();
								}, 1000);
								return;
							}
							setTimeout(function() {
								console.log("next tx")
								vm.sourceBTC(txid, to);
							}, 750);
						});
					}
				}

				function getTxsFromCollapsed(tempTxs) {
					let sources = _.map(tempTxs, 'from');
					let targets = _.map(tempTxs, 'to');
					let temp = [];
					for (var i = 0; i < allEdges.all.length; i++) {
						let isSource = false;
						for (var s = 0; s < sources.length; s++) {
							if (allEdges.all[i].from == sources[s]) {
								isSource = true;
								break;
							}
						}
						if (!isSource) continue;
						let isTarget = false;
						for (var t = 0; t < targets.length; t++) {
							if (allEdges.all[i].to == targets[t]) {
								isTarget = true;
								break;
							}
						}
						if (isSource && isTarget) {
							temp.push(allEdges.all[i]);
						}
					}
					return temp;
				}

				vm.collapse(vm.maxTxsNum == 1);
				if (vm.maxTxsNum == 1) {
					$('#hide').prop('disabled', true);
					$('#hide').css('background-color', 'grey');
				}
			}

			function PagerService() {
				// service definition
				var service = {};

				service.GetPager = GetPager;

				return service;

				// service implementation
				function GetPager(totalItems, currentPage, pageSize) {
					// default to first page
					currentPage = currentPage || 1;

					// default page size is 10
					pageSize = pageSize || 10;

					// calculate total pages
					var totalPages = Math.ceil(totalItems / pageSize);

					var startPage, endPage;
					if (totalPages <= 10) {
						// less than 10 total pages so show all
						startPage = 1;
						endPage = totalPages;
					} else {
						// more than 10 total pages so calculate start and end pages
						if (currentPage <= 6) {
							startPage = 1;
							endPage = 10;
						} else if (currentPage + 4 >= totalPages) {
							startPage = totalPages - 9;
							endPage = totalPages;
						} else {
							startPage = currentPage - 5;
							endPage = currentPage + 4;
						}
					}

					// calculate start and end item indexes
					var startIndex = (currentPage - 1) * pageSize;
					var endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);

					// create an array of pages to ng-repeat in the pager control
					var pages = _.range(startPage, endPage + 1);

					// return object with all pager properties required by the view
					return {
						totalItems: totalItems,
						currentPage: currentPage,
						pageSize: pageSize,
						totalPages: totalPages,
						startPage: startPage,
						endPage: endPage,
						startIndex: startIndex,
						endIndex: endIndex,
						pages: pages
					};
				}
			}
		})();
	</script>
</head>

<body ng-controller="txsController as vm" class="container-fluid ng-cloak">
	<div id="name" class="font-weight-bold text-center h1">
		{{search.label}}
		<button width="30" height="30" onclick="location.reload();" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-toggle="tooltip" data-placement="right" title="Refresh Page">
			<svg width="30" height="30" viewBox="0 0 65 65">
				<path d="m32.5 4.999c-5.405 0-10.444 1.577-14.699 4.282l-5.75-5.75v16.11h16.11l-6.395-6.395c3.18-1.787 6.834-2.82 10.734-2.82 12.171 0 22.073 9.902 22.073 22.074 0 2.899-0.577 5.664-1.599 8.202l4.738 2.762c1.47-3.363 2.288-7.068 2.288-10.964 0-15.164-12.337-27.501-27.5-27.501z" fill="#555753"/>
				<path d="m43.227 51.746c-3.179 1.786-6.826 2.827-10.726 2.827-12.171 0-22.073-9.902-22.073-22.073 0-2.739 0.524-5.35 1.439-7.771l-4.731-2.851c-1.375 3.271-2.136 6.858-2.136 10.622 0 15.164 12.336 27.5 27.5 27.5 5.406 0 10.434-1.584 14.691-4.289l5.758 5.759v-16.112h-16.111l6.389 6.388z" fill="#555753"/>
			</svg>
		</button>
	</div>
	<div class="row justify-content-center" id='info'>
	{% if search.label != 'All Addresses' and search.address is not None %}
		<div class="h5 block">
			Balance: {{search.balance|numCommas}}
			<button width="16" height="16" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-clipboard-text="{{ search.balance }}" data-toggle="tooltip" data-placement="top" title="Copy Balance">
				<svg width="16" height="16" viewBox="0 0 67 67">
					<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
				</svg>
			</button>
		</div>
		<div class="col-sm-6 text-center block h5">
			Address:&nbsp   
				<a href="{{search.url}}">
					{{search.address}}
				</a>
			<button width="16" height="16" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-clipboard-text="{{ search.address }}" data-toggle="tooltip" data-placement="top" title="Copy Address">
				<svg width="16" height="16" viewBox="0 0 67 67">
					<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
				</svg>
			</button>
		</div>
	{% endif %}
		<div class="h5 block">
			Smallest Transaction: {% verbatim %}{{ vm.minTx | number : fractionSize }}{% endverbatim %}
			<button width="16" height="16" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ vm.minTx }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy Minimum Transaction">
				<svg width="16" height="16" viewBox="0 0 67 67">
					<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
				</svg>
			</button>
		</div>
		<div class="col-sm-12 text-center">
			Transactions Since {% verbatim %}{{ vm.lastTx*1000 | date:'yyyy-MM-dd' }}{% endverbatim %}
		</div>
	</div>
	<div class="row mx-auto p-1" style="width: 95%" id='filters'>
		<button ng-click="vm.collapse()" id="hide" class="btn btn-primary block">{% verbatim %}{{ vm.collapseText }}{% endverbatim %}</button>
		<div class="row mx-auto">
			<div class="btn-group p-1">
				<input type="number" min="0" max="{% verbatim %}{{vm.maxBal}}{% endverbatim %}" class="form-control text-center text-truncate" step="100000.00" style="width: 8.25vw" placeholder="Min Balance" data-toggle="tooltip" data-placement="top" title="Min Balance (in USD)" ng-model="vm.graphFilters.node.balance.min" ng-model-options="{ allowInvalid: true}">
				<input type="number" min="0" max="{% verbatim %}{{vm.maxBal}}{% endverbatim %}" id="maxBal" class="form-control text-center text-truncate" step="100000.00" style="width: 8.25vw" placeholder="Max Balance" data-toggle="tooltip" data-placement="top" title="Max Balance (in USD)" ng-model="vm.graphFilters.node.balance.max" ng-model-options="{ allowInvalid: true}">
				<button type="button" class="btn btn-success dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					<span class="sr-only">Toggle Dropdown</span>
				</button>
				<div class="dropdown-menu">
					<a class="dropdown-item" ng-click="vm.setMaxBal()">max</a>
				</div>
			</div>
			<div class="btn-group p-1">
				<input type="number" min="0" max="{% verbatim %}{{vm.maxTx}}{% endverbatim %}" class="form-control text-center text-truncate" step="100000.00" style="width: 8.25vw" placeholder="Min Tx" data-toggle="tooltip" data-placement="top" title="Min Transaction (in USD)" ng-model="vm.graphFilters.edge.amount.min" ng-model-options="{ allowInvalid: true}">
				<input type="number" min="0" max="{% verbatim %}{{vm.maxTx}}{% endverbatim %}" id="maxTx" class="form-control text-center text-truncate" step="100000.00" style="width: 8.25vw" placeholder="Max Tx" data-toggle="tooltip" data-placement="top" title="Max Transaction (in USD)" ng-model="vm.graphFilters.edge.amount.max" ng-model-options="{ allowInvalid: true}">
				<button type="button" class="btn btn-info dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					<span class="sr-only">Toggle Dropdown</span>
				</button>
				<div class="dropdown-menu">
					<a class="dropdown-item" ng-click="vm.setMaxTx()">max</a>
				</div>
			</div>
			<div ng-switch on="vm.isCollapsed">
				<div ng-switch-when="false">
					<div class="btn-group p-1" name="dateTimes" data-minDate="{% verbatim %}{{vm.minTime}}{% endverbatim %}" data-maxDate="{% verbatim %}{{vm.maxTime}}{% endverbatim %}">
						<input type="text" name="minTime" class="form-control text-center text-truncate" step="100000.00" style="width: 11vw" placeholder="Min Tx Time" data-toggle="tooltip" data-placement="top" title="Min Transaction Time" ng-model="vm.graphFilters.edge.time.min" ng-model-options="{ allowInvalid: true}">
						<input type="text" name="maxTime" class="form-control text-center text-truncate" step="100000.00" style="width: 11vw" placeholder="Max Tx Time" data-toggle="tooltip" data-placement="top" title="Max Transaction Time" ng-model="vm.graphFilters.edge.time.max" ng-model-options="{ allowInvalid: true}">
					</div>
				</div>
				<div ng-switch-default>
					<div class="btn-group p-1">
						<input type="number" min="0" max="{% verbatim %}{{vm.maxAvgTx}}{% endverbatim %}" class="form-control text-center text-truncate" step="100000.00" style="width: 8.25vw" placeholder="Min Avg Tx" data-toggle="tooltip" data-placement="top" title="Min Avg Transaction (in USD)" ng-model="vm.graphFilters.edge.avgTx.min" ng-model-options="{ allowInvalid: true}">
						<input type="number" min="0" max="{% verbatim %}{{vm.maxAvgTx}}{% endverbatim %}" id="maxAvgTx" class="form-control text-center text-truncate" step="100000.00" style="width: 8.25vw" placeholder="Max Avg Tx" data-toggle="tooltip" data-placement="top" title="Max Avg Transaction (in USD)" ng-model="vm.graphFilters.edge.avgTx.max" ng-model-options="{ allowInvalid: true}">
						<button type="button" class="btn btn-danger dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							<span class="sr-only">Toggle Dropdown</span>
						</button>
						<div class="dropdown-menu">
							<a class="dropdown-item" ng-click="vm.setMaxAvgTx()">max</a>
						</div>
					</div>
					<div class="btn-group p-1">
						<input type="number" min="1" max="{% verbatim %}{{vm.maxTxsNum}}{% endverbatim %}" class="form-control text-center text-truncate" step="5" style="width: 6vw" placeholder="Min Txs" data-toggle="tooltip" data-placement="top" title="Min # of Transactions" ng-model="vm.graphFilters.edge.txsNum.min" ng-model-options="{ allowInvalid: true}">
						<input type="number" min="1" max="{% verbatim %}{{vm.maxTxsNum}}{% endverbatim %}" id="maxTxsNum" class="form-control text-center text-truncate" step="5" style="width: 6vw" placeholder="Max Txs" data-toggle="tooltip" data-placement="top" title="Max # of Transactions" ng-model="vm.graphFilters.edge.txsNum.max" ng-model-options="{ allowInvalid: true}">
						<button type="button" class="btn btn-secondary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							<span class="sr-only">Toggle Dropdown</span>
						</button>
						<div class="dropdown-menu">
							<a class="dropdown-item" ng-click="vm.setMaxTxsNum()">max</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="btn-group block">
			<button ng-click="vm.setFilters()" class="btn btn-primary block">Set Filters</button>
			<button type="button" class="btn btn-dark dropdown-toggle-split" ng-click="vm.collapse(!vm.isCollapsed)" data-toggle="tooltip" data-placement="top" title="Reset Graph">
				<svg width="24" height="24" viewBox="0 0 65 65">
					<path d="m32.5 4.999c-5.405 0-10.444 1.577-14.699 4.282l-5.75-5.75v16.11h16.11l-6.395-6.395c3.18-1.787 6.834-2.82 10.734-2.82 12.171 0 22.073 9.902 22.073 22.074 0 2.899-0.577 5.664-1.599 8.202l4.738 2.762c1.47-3.363 2.288-7.068 2.288-10.964 0-15.164-12.337-27.501-27.5-27.501z" fill="#9a9ca0"/>
					<path d="m43.227 51.746c-3.179 1.786-6.826 2.827-10.726 2.827-12.171 0-22.073-9.902-22.073-22.073 0-2.739 0.524-5.35 1.439-7.771l-4.731-2.851c-1.375 3.271-2.136 6.858-2.136 10.622 0 15.164 12.336 27.5 27.5 27.5 5.406 0 10.434-1.584 14.691-4.289l5.758 5.759v-16.112h-16.111l6.389 6.388z" fill="#9a9ca0"/>
				</svg>
			</button>
		</div>
	</div>
	<div class="row mx-auto" id='graphContainer'>
		<div id="graph"></div>
		<div>
			<button ngsf-toggle-fullscreen width="1vw" height="1vw" class="btn position-relative btn-sm" onclick="fullGraph()" data-toggle="tooltip" data-placement="top" title="Fullscreen Graph">
				<svg width="1vw" height="1vw" viewBox="0 0 438.543 438.543">
					<path d="M407.42,159.029c3.62,3.616,7.898,5.428,12.847,5.428c2.282,0,4.668-0.476,7.139-1.429   c7.426-3.235,11.136-8.853,11.136-16.846V18.276c0-4.949-1.807-9.231-5.428-12.847c-3.61-3.617-7.898-5.424-12.847-5.424H292.36   c-7.991,0-13.607,3.805-16.848,11.419c-3.23,7.423-1.902,13.99,4,19.698l41.111,41.112L219.271,173.589L117.917,72.231   l41.112-41.112c5.901-5.708,7.232-12.275,3.999-19.698C159.789,3.807,154.175,0,146.182,0H18.276C13.324,0,9.041,1.809,5.425,5.426   c-3.617,3.616-5.424,7.898-5.424,12.847v127.907c0,7.996,3.809,13.61,11.419,16.846c2.285,0.948,4.57,1.429,6.855,1.429   c4.948,0,9.229-1.812,12.847-5.427l41.112-41.109l101.354,101.354L72.234,320.622l-41.112-41.113   c-5.711-5.903-12.275-7.231-19.702-4.001c-7.614,3.241-11.419,8.856-11.419,16.854v127.906c0,4.948,1.807,9.229,5.424,12.847   c3.619,3.614,7.902,5.421,12.851,5.421h127.906c7.996,0,13.61-3.806,16.846-11.416c3.234-7.427,1.903-13.99-3.999-19.705   l-41.112-41.106L219.271,264.95l101.353,101.361l-41.114,41.11c-5.899,5.708-7.228,12.279-3.997,19.698   c3.237,7.617,8.856,11.423,16.851,11.423h127.907c4.948,0,9.232-1.813,12.847-5.428c3.613-3.613,5.42-7.898,5.42-12.847V292.362   c0-7.994-3.709-13.613-11.136-16.851c-7.802-3.23-14.462-1.903-19.985,4.004l-41.106,41.106L264.952,219.271L366.31,117.917   L407.42,159.029z"/>
				</svg>
			</button>
			<button width="1vw" height="1vw" class="btn position-absolute btn-sm" onclick="toggleDarkMode()" data-toggle="tooltip" data-placement="top" title="Toggle Graph Dark Mode">
				<svg width="1vw" height="1vw" viewBox="-12 0 448 448.04455">
					<path d="m224.023438 448.03125c85.714843.902344 164.011718-48.488281 200.117187-126.230469-22.722656 9.914063-47.332031 14.769531-72.117187 14.230469-97.15625-.109375-175.890626-78.84375-176-176 .972656-65.71875 37.234374-125.832031 94.910156-157.351562-15.554688-1.980469-31.230469-2.867188-46.910156-2.648438-123.714844 0-224.0000005 100.289062-224.0000005 224 0 123.714844 100.2851565 224 224.0000005 224zm0 0"/>
				</svg>
			</button>
		</div>
	</div>
	<div ng-switch="vm.selection.type" id='selection'>
		<div ng-switch-when="node" class="list-group-item mx-auto container" style="padding-top: 2vh; width: 90%">
			<div ng-switch="vm.selection.data.url">
				<div ng-switch-when="" class="text-center text-truncate h2">
					{% verbatim %}{{ vm.selection.data.label }}{% endverbatim %}
					<button width="20" height="20" class="btn btn-icon rounded" style="background-color:rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ vm.selection.data.label }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy Name">
						<svg width="20" height="20" viewBox="0 0 67 67">
							<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
						</svg>
					</button>
				</div>
				<div ng-switch-default class="text-center text-truncate">
					<a href="{% verbatim %}{{ vm.selection.data.url }}{% endverbatim %}" class="h2 font-weight-bold">
						{% verbatim %}{{ vm.selection.data.label }}{% endverbatim %}
					</a>
					<button width="20" height="20" class="btn btn-icon rounded" style="background-color:rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ vm.selection.data.label }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy Name">
						<svg width="20" height="20" viewBox="0 0 67 67">
							<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
						</svg>
					</button>
				</div>
			</div>
			<div ng-switch="vm.selection.data.group">
				<div ng-switch-when="usdt">

				</div>
				<div ng-switch-when="">

				</div>
				<div ng-switch-default class="text-center">
					Wallet: <a href="https://www.walletexplorer.com/wallet/{% verbatim %}{{ vm.selection.data.group }}{% endverbatim %}/addresses">{% verbatim %}{{ vm.selection.data.walletName }}{% endverbatim %}</a>
				</div>
			</div>
			<div class="row align-items-start" style="padding-bottom: 1vh;">
				<div class="col-sm-1">
					<img src="{% verbatim %}{{ vm.selection.data.img }}{% endverbatim %}" width="48" height="48">
				</div>
				<div class="col-sm-7 h1">
					{% verbatim %}{{ vm.selection.data.balance | number : fractionSize }}{% endverbatim %}
					<button width="20" height="20" class="btn btn-icon rounded" style="background-color:rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ vm.selection.data.balance }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy Balance">
						<svg width="20" height="20" viewBox="0 0 67 67">
							<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
						</svg>
					</button>
				</div>
				<div class="col-sm-4 h5 font-italic text-right" data-toggle="tooltip" data-placement="top" title="Last Update">{% verbatim %}{{ vm.selection.data.lastUpdate*1000 | date:'yyyy-MM-dd h:mm:ss a' }}{% endverbatim %}</div>
			</div>
			<div class="row align-items-end justify-content-center">
				<a href="{% verbatim %}{{ vm.selection.data.webUrl }}{% endverbatim %}" class="font-italic" style="font-size: 65%">
					{% verbatim %}{{ vm.selection.data.address }}{% endverbatim %}
				</a>
				<button width="20" height="20" class="btn btn-icon rounded" style="background-color:rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ vm.selection.data.address }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy Address">
					<svg width="20" height="20" viewBox="0 0 67 67">
						<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
					</svg>
				</button>
			</div>			
		</div>
		<div ng-switch-when="txTotal" class="list-group-item mx-auto container" style="padding-top: 2vh; width: 90%">
			<div class="row align-items-start" style="padding-bottom: 1vh;">
				<div class="col-sm-1">
					<img src="{% verbatim %}{{ vm.selection.data.img }}{% endverbatim %}" width="48" height="48">
				</div>
				<div class="col-sm-7 h1">
					<span data-toggle="tooltip" data-placement="top" title="Total Transaction Amount">{% verbatim %}{{ vm.selection.data.amount | number : fractionSize }}{% endverbatim %}</span>
					<button width="20" height="20" class="btn btn-icon rounded" style="background-color:rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ vm.selection.data.amount }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy Total Amount">
						<svg width="20" height="20" viewBox="0 0 67 67">
							<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
						</svg>
					</button>
					<span class="h6 text-left" data-toggle="tooltip" data-placement="top" title="Average Transaction Amount">(Avg Tx: {% verbatim %}{{ vm.selection.data.avgTx | number : fractionSize }}{% endverbatim %}</span>
					<button width="14" height="14" class="btn btn-icon rounded" style="background-color:rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ vm.selection.data.avgTx }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy Average Amount">
						<svg width="14" height="14" viewBox="0 0 67 67">
							<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
						</svg>
					</button>
					<span class="h6">)</span>
				</div>
				<div class="col-sm-4 h5 font-italic text-right">{% verbatim %}{{ vm.selection.data.lastUpdate*1000 | date:'yyyy-MM-dd h:mm:ss a' }}{% endverbatim %}</div>
			</div>
			<div class="row justify-content-center" style="padding-bottom: 1rem;">
				<div class="col-sm-5 text-right block">
					<button width="16" height="16" ng-click="vm.highlight(vm.selection.data.from, true)" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-toggle="tooltip" data-placement="top" title="Highlight on Graph">
						<svg width="16" height="16" viewBox="-64 0 479 479.99545">
							<path d="m68.488281 391.523438-11.765625-6.648438c-.445312-.230469-.855468-.527344-1.210937-.878906l-46.0625 77.039062c-1.28125 2.265625-1.28125 5.039063 0 7.304688 1.394531 2.285156 3.890625 3.675781 6.566406 3.65625h67.433594c2.578125.015625 4.988281-1.277344 6.398437-3.433594l30.640625-47.765625-13.046875-7.3125zm0 0" fill="#ffcc5c"/>
							<path d="m338.671875 102.59375-111.78125 221.1875c-.957031 1.890625-2.648437 3.304688-4.679687 3.910156-.703126.179688-1.421876.28125-2.144532.304688-1.351562-.011719-2.671875-.382813-3.832031-1.074219l-131.9375-76.695313c-1.824219-1.019531-3.128906-2.761718-3.597656-4.800781-.503907-2.019531-.144531-4.15625.992187-5.902343l132.671875-205.71875c16.3125-25.292969 49.625-33.296876 75.644531-18.175782l27.824219 16.183594c24.570313 14.375 33.699219 45.390625 20.839844 70.78125zm0 0" fill="#ffcc5c"/>
							<path d="m82.992188 247.996094-20.855469 37.96875c-1.941407 3.503906-.792969 7.914062 2.609375 10.03125 11.480468 6.992187 11.34375 38.398437-7.328125 72.160156-1.667969 3.019531-1.054688 6.789062 1.480469 9.128906.320312.355469.703124.652344 1.128906.878906l10.980468 6.703126 36.363282 22.089843 12.191406 7.359375 1.054688.664063c1.613281 1.007812 3.570312 1.296875 5.40625.792969 1.832031-.5 3.371093-1.75 4.242187-3.441407 12.335937-22.402343 29.601563-39.464843 44-43.441406 3.828125-1.410156 8.074219-1.144531 11.695313.738281 1.601562.980469 3.535156 1.269532 5.351562.796875 1.84375-.527343 3.394531-1.777343 4.304688-3.460937l20.871093-38.058594zm0 0" fill="#333"/>
							<path d="m264.488281 46.460938c-3.738281-2.347657-8.671875-1.21875-11.023437 2.519531l-106.238282 169.199219c-1.554687 2.421874-1.6875 5.492187-.351562 8.039062 1.339844 2.546875 3.941406 4.179688 6.816406 4.277344 2.875.09375 5.582032-1.359375 7.085938-3.8125l106.257812-169.199219c2.339844-3.746094 1.199219-8.683594-2.546875-11.023437zm0 0"/>
							<path d="m324.65625 25.980469-31.765625-18.464844c-25.667969-14.921875-58.535156-6.992187-74.578125 17.992187l-140.128906 217.085938c0 .050781 0 .113281-.0625.160156-.0625.050782-.136719.136719-.183594.21875l-23.847656 41.519532c-2.191406 3.820312-.882813 8.695312 2.925781 10.902343 13.082031 7.578125 12.914063 41.601563-8.246094 78.402344-1.84375 3.265625-1.132812 7.382813 1.703125 9.839844l-48.902344 84.359375c-1.429687 2.472656-1.429687 5.519531-.003906 7.996094 1.429688 2.472656 4.066406 4 6.921875 4.003906h71.539063c2.765625 0 5.339844-1.429688 6.796875-3.785156l32.449219-52.261719 1.238281.71875c1.214843.707031 2.597656 1.082031 4 1.085937.699219.003906 1.394531-.089844 2.066406-.269531 2.054687-.546875 3.808594-1.894531 4.871094-3.738281 14.015625-24.335938 33.601562-42.878906 49.871093-47.199219 4.378907-1.511719 9.183594-1.195313 13.328126.871094 1.839843 1.074219 4.03125 1.367187 6.089843.816406 2.058594-.550781 3.808594-1.898437 4.871094-3.742187 0 0 24-41.832032 24.082031-41.921876l116.71875-230.6875c13.457032-26.507812 3.917969-58.910156-21.753906-73.902343zm-249.078125 438.015625h-53.207031l41.773437-72.082032 41.289063 24zm119.589844-105.472656c-5.933594-1.332032-12.109375-1.144532-17.949219.542968-18.800781 5.015625-39.578125 23.066406-55.449219 47.824219l-55.320312-32.144531c18.59375-36.101563 20.382812-71.886719 4.90625-88.199219l16.453125-28.640625 123.824218 72zm136.984375-265.886719-112.894532 223.117187-123.082031-71.527344 135.585938-210.046874c11.433593-17.765626 34.8125-23.402344 53.085937-12.800782l31.769532 18.464844c18.320312 10.722656 25.125 33.855469 15.535156 52.792969zm0 0"/>
						</svg>
					</button>
					<a href="{% verbatim %}{{ vm.selection.data.sourceUrl }}{% endverbatim %}" class="text-truncate h6">
						{% verbatim %}{{ vm.selection.data.source }}{% endverbatim %}
					</a>
					<button width="16" height="16" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ vm.selection.data.source }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy Sender Address">
						<svg width="16" height="16" viewBox="0 0 67 67">
							<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
						</svg>
					</button>
				</div>
				<svg viewBox="0 0 40 40" width="24" height="24" class="col-sm-1">
					<g>
						<path d="m25 10l7.8 8.2c0.5 0.5 0.7 1.1 0.7 1.8s-0.2 1.3-0.7 1.7l-7.8 8.3c-1 0.9-2.4 0.9-3.4 0s-0.9-2.7 0-3.6l3.8-3.9h-17c-1.3 0-2.4-1.1-2.4-2.5s1.1-2.5 2.4-2.5h17l-3.9-3.9c-0.9-0.9-0.9-2.7 0-3.6s2.5-0.9 3.5 0z" fill="grey"></path>
					</g>
				</svg>
				<div class="col-sm-5 text-left block">
					<button width="16" height="16" ng-click="vm.highlight(vm.selection.data.to, true)" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-toggle="tooltip" data-placement="top" title="Highlight on Graph">
						<svg width="16" height="16" viewBox="-64 0 479 479.99545">
							<path d="m68.488281 391.523438-11.765625-6.648438c-.445312-.230469-.855468-.527344-1.210937-.878906l-46.0625 77.039062c-1.28125 2.265625-1.28125 5.039063 0 7.304688 1.394531 2.285156 3.890625 3.675781 6.566406 3.65625h67.433594c2.578125.015625 4.988281-1.277344 6.398437-3.433594l30.640625-47.765625-13.046875-7.3125zm0 0" fill="#ffcc5c"/>
							<path d="m338.671875 102.59375-111.78125 221.1875c-.957031 1.890625-2.648437 3.304688-4.679687 3.910156-.703126.179688-1.421876.28125-2.144532.304688-1.351562-.011719-2.671875-.382813-3.832031-1.074219l-131.9375-76.695313c-1.824219-1.019531-3.128906-2.761718-3.597656-4.800781-.503907-2.019531-.144531-4.15625.992187-5.902343l132.671875-205.71875c16.3125-25.292969 49.625-33.296876 75.644531-18.175782l27.824219 16.183594c24.570313 14.375 33.699219 45.390625 20.839844 70.78125zm0 0" fill="#ffcc5c"/>
							<path d="m82.992188 247.996094-20.855469 37.96875c-1.941407 3.503906-.792969 7.914062 2.609375 10.03125 11.480468 6.992187 11.34375 38.398437-7.328125 72.160156-1.667969 3.019531-1.054688 6.789062 1.480469 9.128906.320312.355469.703124.652344 1.128906.878906l10.980468 6.703126 36.363282 22.089843 12.191406 7.359375 1.054688.664063c1.613281 1.007812 3.570312 1.296875 5.40625.792969 1.832031-.5 3.371093-1.75 4.242187-3.441407 12.335937-22.402343 29.601563-39.464843 44-43.441406 3.828125-1.410156 8.074219-1.144531 11.695313.738281 1.601562.980469 3.535156 1.269532 5.351562.796875 1.84375-.527343 3.394531-1.777343 4.304688-3.460937l20.871093-38.058594zm0 0" fill="#333"/>
							<path d="m264.488281 46.460938c-3.738281-2.347657-8.671875-1.21875-11.023437 2.519531l-106.238282 169.199219c-1.554687 2.421874-1.6875 5.492187-.351562 8.039062 1.339844 2.546875 3.941406 4.179688 6.816406 4.277344 2.875.09375 5.582032-1.359375 7.085938-3.8125l106.257812-169.199219c2.339844-3.746094 1.199219-8.683594-2.546875-11.023437zm0 0"/>
							<path d="m324.65625 25.980469-31.765625-18.464844c-25.667969-14.921875-58.535156-6.992187-74.578125 17.992187l-140.128906 217.085938c0 .050781 0 .113281-.0625.160156-.0625.050782-.136719.136719-.183594.21875l-23.847656 41.519532c-2.191406 3.820312-.882813 8.695312 2.925781 10.902343 13.082031 7.578125 12.914063 41.601563-8.246094 78.402344-1.84375 3.265625-1.132812 7.382813 1.703125 9.839844l-48.902344 84.359375c-1.429687 2.472656-1.429687 5.519531-.003906 7.996094 1.429688 2.472656 4.066406 4 6.921875 4.003906h71.539063c2.765625 0 5.339844-1.429688 6.796875-3.785156l32.449219-52.261719 1.238281.71875c1.214843.707031 2.597656 1.082031 4 1.085937.699219.003906 1.394531-.089844 2.066406-.269531 2.054687-.546875 3.808594-1.894531 4.871094-3.738281 14.015625-24.335938 33.601562-42.878906 49.871093-47.199219 4.378907-1.511719 9.183594-1.195313 13.328126.871094 1.839843 1.074219 4.03125 1.367187 6.089843.816406 2.058594-.550781 3.808594-1.898437 4.871094-3.742187 0 0 24-41.832032 24.082031-41.921876l116.71875-230.6875c13.457032-26.507812 3.917969-58.910156-21.753906-73.902343zm-249.078125 438.015625h-53.207031l41.773437-72.082032 41.289063 24zm119.589844-105.472656c-5.933594-1.332032-12.109375-1.144532-17.949219.542968-18.800781 5.015625-39.578125 23.066406-55.449219 47.824219l-55.320312-32.144531c18.59375-36.101563 20.382812-71.886719 4.90625-88.199219l16.453125-28.640625 123.824218 72zm136.984375-265.886719-112.894532 223.117187-123.082031-71.527344 135.585938-210.046874c11.433593-17.765626 34.8125-23.402344 53.085937-12.800782l31.769532 18.464844c18.320312 10.722656 25.125 33.855469 15.535156 52.792969zm0 0"/>
						</svg>
					</button>
					<a href="{% verbatim %}{{ vm.selection.data.targetUrl }}{% endverbatim %}" class="text-truncate h6">
						{% verbatim %}{{ vm.selection.data.target }}{% endverbatim %}
					</a>
					<button width="16" height="16" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ vm.selection.data.target }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy Reference Address">
						<svg width="16" height="16" viewBox="0 0 67 67">
							<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
						</svg>
					</button>	
				</div>
			</div>
			<div class="row font-italic">
				<div ng-switch="vm.selection.data.txsNum" class="mx-auto">
					<div ng-switch-when="1">
						{% verbatim %}{{ vm.selection.data.txsNum }}{% endverbatim %} Transaction
					</div>
					<div ng-switch-default>
						{% verbatim %}{{ vm.selection.data.txsNum }}{% endverbatim %} Transactions
					</div>
				</div>
			</div>
		</div>
		<div ng-switch-when="tx" class="list-group-item mx-auto container" style="padding-top: 2vh; width: 90%">
			<div class="row align-items-start" style="padding-bottom: 1vh;">
				<div class="col-sm-1">
					<img src="{% verbatim %}{{ vm.selection.data.img }}{% endverbatim %}" width="48" height="48">
				</div>
				<div class="col-sm-7 h1">
					{% verbatim %}{{ vm.selection.data.amount | number : fractionSize }}{% endverbatim %}
					<button width="20" height="20" class="btn btn-icon rounded" style="background-color:rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ vm.selection.data.amount }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy Transaction Amount">
						<svg width="20" height="20" viewBox="0 0 67 67">
							<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
						</svg>
					</button>
				</div>
				<div class="col-sm-4 h5 font-italic text-right">{% verbatim %}{{ vm.selection.data.time*1000 | date:'yyyy-MM-dd h:mm:ss a' }}{% endverbatim %}</div>
			</div>
			<div class="row justify-content-center" style="padding-bottom: 1rem;">
				<div class="col-sm-5 text-right block">
					<button width="16" height="16" ng-click="vm.highlight(vm.selection.data.from, true)" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-toggle="tooltip" data-placement="top" title="Highlight on Graph">
						<svg width="16" height="16" viewBox="-64 0 479 479.99545">
							<path d="m68.488281 391.523438-11.765625-6.648438c-.445312-.230469-.855468-.527344-1.210937-.878906l-46.0625 77.039062c-1.28125 2.265625-1.28125 5.039063 0 7.304688 1.394531 2.285156 3.890625 3.675781 6.566406 3.65625h67.433594c2.578125.015625 4.988281-1.277344 6.398437-3.433594l30.640625-47.765625-13.046875-7.3125zm0 0" fill="#ffcc5c"/>
							<path d="m338.671875 102.59375-111.78125 221.1875c-.957031 1.890625-2.648437 3.304688-4.679687 3.910156-.703126.179688-1.421876.28125-2.144532.304688-1.351562-.011719-2.671875-.382813-3.832031-1.074219l-131.9375-76.695313c-1.824219-1.019531-3.128906-2.761718-3.597656-4.800781-.503907-2.019531-.144531-4.15625.992187-5.902343l132.671875-205.71875c16.3125-25.292969 49.625-33.296876 75.644531-18.175782l27.824219 16.183594c24.570313 14.375 33.699219 45.390625 20.839844 70.78125zm0 0" fill="#ffcc5c"/>
							<path d="m82.992188 247.996094-20.855469 37.96875c-1.941407 3.503906-.792969 7.914062 2.609375 10.03125 11.480468 6.992187 11.34375 38.398437-7.328125 72.160156-1.667969 3.019531-1.054688 6.789062 1.480469 9.128906.320312.355469.703124.652344 1.128906.878906l10.980468 6.703126 36.363282 22.089843 12.191406 7.359375 1.054688.664063c1.613281 1.007812 3.570312 1.296875 5.40625.792969 1.832031-.5 3.371093-1.75 4.242187-3.441407 12.335937-22.402343 29.601563-39.464843 44-43.441406 3.828125-1.410156 8.074219-1.144531 11.695313.738281 1.601562.980469 3.535156 1.269532 5.351562.796875 1.84375-.527343 3.394531-1.777343 4.304688-3.460937l20.871093-38.058594zm0 0" fill="#333"/>
							<path d="m264.488281 46.460938c-3.738281-2.347657-8.671875-1.21875-11.023437 2.519531l-106.238282 169.199219c-1.554687 2.421874-1.6875 5.492187-.351562 8.039062 1.339844 2.546875 3.941406 4.179688 6.816406 4.277344 2.875.09375 5.582032-1.359375 7.085938-3.8125l106.257812-169.199219c2.339844-3.746094 1.199219-8.683594-2.546875-11.023437zm0 0"/>
							<path d="m324.65625 25.980469-31.765625-18.464844c-25.667969-14.921875-58.535156-6.992187-74.578125 17.992187l-140.128906 217.085938c0 .050781 0 .113281-.0625.160156-.0625.050782-.136719.136719-.183594.21875l-23.847656 41.519532c-2.191406 3.820312-.882813 8.695312 2.925781 10.902343 13.082031 7.578125 12.914063 41.601563-8.246094 78.402344-1.84375 3.265625-1.132812 7.382813 1.703125 9.839844l-48.902344 84.359375c-1.429687 2.472656-1.429687 5.519531-.003906 7.996094 1.429688 2.472656 4.066406 4 6.921875 4.003906h71.539063c2.765625 0 5.339844-1.429688 6.796875-3.785156l32.449219-52.261719 1.238281.71875c1.214843.707031 2.597656 1.082031 4 1.085937.699219.003906 1.394531-.089844 2.066406-.269531 2.054687-.546875 3.808594-1.894531 4.871094-3.738281 14.015625-24.335938 33.601562-42.878906 49.871093-47.199219 4.378907-1.511719 9.183594-1.195313 13.328126.871094 1.839843 1.074219 4.03125 1.367187 6.089843.816406 2.058594-.550781 3.808594-1.898437 4.871094-3.742187 0 0 24-41.832032 24.082031-41.921876l116.71875-230.6875c13.457032-26.507812 3.917969-58.910156-21.753906-73.902343zm-249.078125 438.015625h-53.207031l41.773437-72.082032 41.289063 24zm119.589844-105.472656c-5.933594-1.332032-12.109375-1.144532-17.949219.542968-18.800781 5.015625-39.578125 23.066406-55.449219 47.824219l-55.320312-32.144531c18.59375-36.101563 20.382812-71.886719 4.90625-88.199219l16.453125-28.640625 123.824218 72zm136.984375-265.886719-112.894532 223.117187-123.082031-71.527344 135.585938-210.046874c11.433593-17.765626 34.8125-23.402344 53.085937-12.800782l31.769532 18.464844c18.320312 10.722656 25.125 33.855469 15.535156 52.792969zm0 0"/>
						</svg>
					</button>
					<a href="{% verbatim %}{{ vm.selection.data.sourceUrl }}{% endverbatim %}" class="text-truncate h6">
						{% verbatim %}{{ vm.selection.data.source }}{% endverbatim %}
					</a>
					<button width="16" height="16" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ vm.selection.data.source }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy Sender Address">
						<svg width="16" height="16" viewBox="0 0 67 67">
							<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
						</svg>
					</button>
				</div>
				<svg viewBox="0 0 40 40" width="24" height="24" class="col-sm-1">
					<g>
						<path d="m25 10l7.8 8.2c0.5 0.5 0.7 1.1 0.7 1.8s-0.2 1.3-0.7 1.7l-7.8 8.3c-1 0.9-2.4 0.9-3.4 0s-0.9-2.7 0-3.6l3.8-3.9h-17c-1.3 0-2.4-1.1-2.4-2.5s1.1-2.5 2.4-2.5h17l-3.9-3.9c-0.9-0.9-0.9-2.7 0-3.6s2.5-0.9 3.5 0z" fill="grey"></path>
					</g>
				</svg>
				<div class="col-sm-5 text-left block">
					<button width="16" height="16" ng-click="vm.highlight(vm.selection.data.to, true)" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-toggle="tooltip" data-placement="top" title="Highlight on Graph">
						<svg width="16" height="16" viewBox="-64 0 479 479.99545">
							<path d="m68.488281 391.523438-11.765625-6.648438c-.445312-.230469-.855468-.527344-1.210937-.878906l-46.0625 77.039062c-1.28125 2.265625-1.28125 5.039063 0 7.304688 1.394531 2.285156 3.890625 3.675781 6.566406 3.65625h67.433594c2.578125.015625 4.988281-1.277344 6.398437-3.433594l30.640625-47.765625-13.046875-7.3125zm0 0" fill="#ffcc5c"/>
							<path d="m338.671875 102.59375-111.78125 221.1875c-.957031 1.890625-2.648437 3.304688-4.679687 3.910156-.703126.179688-1.421876.28125-2.144532.304688-1.351562-.011719-2.671875-.382813-3.832031-1.074219l-131.9375-76.695313c-1.824219-1.019531-3.128906-2.761718-3.597656-4.800781-.503907-2.019531-.144531-4.15625.992187-5.902343l132.671875-205.71875c16.3125-25.292969 49.625-33.296876 75.644531-18.175782l27.824219 16.183594c24.570313 14.375 33.699219 45.390625 20.839844 70.78125zm0 0" fill="#ffcc5c"/>
							<path d="m82.992188 247.996094-20.855469 37.96875c-1.941407 3.503906-.792969 7.914062 2.609375 10.03125 11.480468 6.992187 11.34375 38.398437-7.328125 72.160156-1.667969 3.019531-1.054688 6.789062 1.480469 9.128906.320312.355469.703124.652344 1.128906.878906l10.980468 6.703126 36.363282 22.089843 12.191406 7.359375 1.054688.664063c1.613281 1.007812 3.570312 1.296875 5.40625.792969 1.832031-.5 3.371093-1.75 4.242187-3.441407 12.335937-22.402343 29.601563-39.464843 44-43.441406 3.828125-1.410156 8.074219-1.144531 11.695313.738281 1.601562.980469 3.535156 1.269532 5.351562.796875 1.84375-.527343 3.394531-1.777343 4.304688-3.460937l20.871093-38.058594zm0 0" fill="#333"/>
							<path d="m264.488281 46.460938c-3.738281-2.347657-8.671875-1.21875-11.023437 2.519531l-106.238282 169.199219c-1.554687 2.421874-1.6875 5.492187-.351562 8.039062 1.339844 2.546875 3.941406 4.179688 6.816406 4.277344 2.875.09375 5.582032-1.359375 7.085938-3.8125l106.257812-169.199219c2.339844-3.746094 1.199219-8.683594-2.546875-11.023437zm0 0"/>
							<path d="m324.65625 25.980469-31.765625-18.464844c-25.667969-14.921875-58.535156-6.992187-74.578125 17.992187l-140.128906 217.085938c0 .050781 0 .113281-.0625.160156-.0625.050782-.136719.136719-.183594.21875l-23.847656 41.519532c-2.191406 3.820312-.882813 8.695312 2.925781 10.902343 13.082031 7.578125 12.914063 41.601563-8.246094 78.402344-1.84375 3.265625-1.132812 7.382813 1.703125 9.839844l-48.902344 84.359375c-1.429687 2.472656-1.429687 5.519531-.003906 7.996094 1.429688 2.472656 4.066406 4 6.921875 4.003906h71.539063c2.765625 0 5.339844-1.429688 6.796875-3.785156l32.449219-52.261719 1.238281.71875c1.214843.707031 2.597656 1.082031 4 1.085937.699219.003906 1.394531-.089844 2.066406-.269531 2.054687-.546875 3.808594-1.894531 4.871094-3.738281 14.015625-24.335938 33.601562-42.878906 49.871093-47.199219 4.378907-1.511719 9.183594-1.195313 13.328126.871094 1.839843 1.074219 4.03125 1.367187 6.089843.816406 2.058594-.550781 3.808594-1.898437 4.871094-3.742187 0 0 24-41.832032 24.082031-41.921876l116.71875-230.6875c13.457032-26.507812 3.917969-58.910156-21.753906-73.902343zm-249.078125 438.015625h-53.207031l41.773437-72.082032 41.289063 24zm119.589844-105.472656c-5.933594-1.332032-12.109375-1.144532-17.949219.542968-18.800781 5.015625-39.578125 23.066406-55.449219 47.824219l-55.320312-32.144531c18.59375-36.101563 20.382812-71.886719 4.90625-88.199219l16.453125-28.640625 123.824218 72zm136.984375-265.886719-112.894532 223.117187-123.082031-71.527344 135.585938-210.046874c11.433593-17.765626 34.8125-23.402344 53.085937-12.800782l31.769532 18.464844c18.320312 10.722656 25.125 33.855469 15.535156 52.792969zm0 0"/>
						</svg>
					</button>
					<a href="{% verbatim %}{{ vm.selection.data.targetUrl }}{% endverbatim %}" class="text-truncate h6">
						{% verbatim %}{{ vm.selection.data.target }}{% endverbatim %}
					</a>
					<button width="16" height="16" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ vm.selection.data.target }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy Reference Address">
						<svg width="16" height="16" viewBox="0 0 67 67">
							<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
						</svg>
					</button>	
				</div>
			</div>
			<div class="row align-items-end justify-content-center mb-2">
				<button width="16" height="16" ng-click="vm.highlight(vm.selection.data.id, false)" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-toggle="tooltip" data-placement="top" title="Highlight on Graph">
					<svg width="16" height="16" viewBox="-64 0 479 479.99545">
						<path d="m68.488281 391.523438-11.765625-6.648438c-.445312-.230469-.855468-.527344-1.210937-.878906l-46.0625 77.039062c-1.28125 2.265625-1.28125 5.039063 0 7.304688 1.394531 2.285156 3.890625 3.675781 6.566406 3.65625h67.433594c2.578125.015625 4.988281-1.277344 6.398437-3.433594l30.640625-47.765625-13.046875-7.3125zm0 0" fill="#ffcc5c"/>
						<path d="m338.671875 102.59375-111.78125 221.1875c-.957031 1.890625-2.648437 3.304688-4.679687 3.910156-.703126.179688-1.421876.28125-2.144532.304688-1.351562-.011719-2.671875-.382813-3.832031-1.074219l-131.9375-76.695313c-1.824219-1.019531-3.128906-2.761718-3.597656-4.800781-.503907-2.019531-.144531-4.15625.992187-5.902343l132.671875-205.71875c16.3125-25.292969 49.625-33.296876 75.644531-18.175782l27.824219 16.183594c24.570313 14.375 33.699219 45.390625 20.839844 70.78125zm0 0" fill="#ffcc5c"/>
						<path d="m82.992188 247.996094-20.855469 37.96875c-1.941407 3.503906-.792969 7.914062 2.609375 10.03125 11.480468 6.992187 11.34375 38.398437-7.328125 72.160156-1.667969 3.019531-1.054688 6.789062 1.480469 9.128906.320312.355469.703124.652344 1.128906.878906l10.980468 6.703126 36.363282 22.089843 12.191406 7.359375 1.054688.664063c1.613281 1.007812 3.570312 1.296875 5.40625.792969 1.832031-.5 3.371093-1.75 4.242187-3.441407 12.335937-22.402343 29.601563-39.464843 44-43.441406 3.828125-1.410156 8.074219-1.144531 11.695313.738281 1.601562.980469 3.535156 1.269532 5.351562.796875 1.84375-.527343 3.394531-1.777343 4.304688-3.460937l20.871093-38.058594zm0 0" fill="#333"/>
						<path d="m264.488281 46.460938c-3.738281-2.347657-8.671875-1.21875-11.023437 2.519531l-106.238282 169.199219c-1.554687 2.421874-1.6875 5.492187-.351562 8.039062 1.339844 2.546875 3.941406 4.179688 6.816406 4.277344 2.875.09375 5.582032-1.359375 7.085938-3.8125l106.257812-169.199219c2.339844-3.746094 1.199219-8.683594-2.546875-11.023437zm0 0"/>
						<path d="m324.65625 25.980469-31.765625-18.464844c-25.667969-14.921875-58.535156-6.992187-74.578125 17.992187l-140.128906 217.085938c0 .050781 0 .113281-.0625.160156-.0625.050782-.136719.136719-.183594.21875l-23.847656 41.519532c-2.191406 3.820312-.882813 8.695312 2.925781 10.902343 13.082031 7.578125 12.914063 41.601563-8.246094 78.402344-1.84375 3.265625-1.132812 7.382813 1.703125 9.839844l-48.902344 84.359375c-1.429687 2.472656-1.429687 5.519531-.003906 7.996094 1.429688 2.472656 4.066406 4 6.921875 4.003906h71.539063c2.765625 0 5.339844-1.429688 6.796875-3.785156l32.449219-52.261719 1.238281.71875c1.214843.707031 2.597656 1.082031 4 1.085937.699219.003906 1.394531-.089844 2.066406-.269531 2.054687-.546875 3.808594-1.894531 4.871094-3.738281 14.015625-24.335938 33.601562-42.878906 49.871093-47.199219 4.378907-1.511719 9.183594-1.195313 13.328126.871094 1.839843 1.074219 4.03125 1.367187 6.089843.816406 2.058594-.550781 3.808594-1.898437 4.871094-3.742187 0 0 24-41.832032 24.082031-41.921876l116.71875-230.6875c13.457032-26.507812 3.917969-58.910156-21.753906-73.902343zm-249.078125 438.015625h-53.207031l41.773437-72.082032 41.289063 24zm119.589844-105.472656c-5.933594-1.332032-12.109375-1.144532-17.949219.542968-18.800781 5.015625-39.578125 23.066406-55.449219 47.824219l-55.320312-32.144531c18.59375-36.101563 20.382812-71.886719 4.90625-88.199219l16.453125-28.640625 123.824218 72zm136.984375-265.886719-112.894532 223.117187-123.082031-71.527344 135.585938-210.046874c11.433593-17.765626 34.8125-23.402344 53.085937-12.800782l31.769532 18.464844c18.320312 10.722656 25.125 33.855469 15.535156 52.792969zm0 0"/>
					</svg>
				</button>
				<a href="{% verbatim %}{{ vm.selection.data.txidUrl }}{% endverbatim %}" class="font-italic text-truncate" style="font-size: 65%">
					{% verbatim %}{{ vm.selection.data.txid }}{% endverbatim %}
				</a>
				<button width="16" height="16" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ vm.selection.data.txid }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy TxID">
					<svg width="16" height="16" viewBox="0 0 67 67">
						<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
					</svg>
				</button>	
			</div>
			<div ng-switch="vm.selection.data.img" class="row">
				<div ng-switch-when="https://s2.coinmarketcap.com/static/img/coins/200x200/825.png"></div>
				<div ng-switch-default class="btn-group mx-auto">
					<button ng-click="vm.sourceBTC()" class="btn btn-primary mr-1">
						&#8592; Follow BTC to Source
					</button>
					<button ng-click="vm.targetBTC()" class="btn btn-primary ml-1">
						Follow BTC to Target &#8594;
					</button>
				</div>
			</div>
		</div>
		<div ng-switch-default>
		</div>
	</div>
	<div class="container" id='txList'>
		<div class="row justify-content-center mx-auto" style="padding-top: 2vh; width: 90%">
			<div class="h5 text-center block">
				<div ng-switch="vm.pager.totalItems">
					<div ng-switch-when="1">
						{% verbatim %}{{ vm.pager.totalItems }}{% endverbatim %} Transaction
					</div>
					<div ng-switch-default> 
						{% verbatim %}{{ vm.pager.totalItems }}{% endverbatim %} Transactions
					</div>
				</div>
				<div ng-switch="vm.pager.totalPages">
					<div ng-switch-when="1">
						<span class="font-italic">({% verbatim %}{{ vm.pager.totalPages }}{% endverbatim %} Page)</span>
					</div>
					<div ng-switch-default>
						<span class="font-italic">({% verbatim %}{{ vm.pager.totalPages }}{% endverbatim %} Pages)</span>
					</div>
				</div>
			</div>
			<div class="row mx-auto" style="padding-left: 1vw; padding-right: 1vw">
				<ul ng-if="vm.pager.pages.length" class="pagination justify-content-center noselect">
					<li ng-class="{disabled:vm.pager.currentPage === 1}" class="page-item">
						<a ng-click="vm.setPage(1)" class="page-link">First</a>
					</li>
					<li ng-class="{disabled:vm.pager.currentPage === 1}" class="page-item"> 
						<a ng-click="vm.setPage(vm.pager.currentPage - 1)" class="page-link">Previous</a>
					</li>
					<li ng-repeat="page in vm.pager.pages" ng-class="{active:vm.pager.currentPage === page}" class="page-item">
						<a ng-click="vm.setPage(page)" class="page-link">{% verbatim %}{{page}}{% endverbatim %}</a>
					</li>                
					<li ng-class="{disabled:vm.pager.currentPage === vm.pager.totalPages}" class="page-item">
						<a ng-click="vm.setPage(vm.pager.currentPage + 1)" class="page-link">Next</a>
					</li>
					<li ng-class="{disabled:vm.pager.currentPage === vm.pager.totalPages}" class="page-item">
						<a ng-click="vm.setPage(vm.pager.totalPages)" class="page-link">Last</a>
					</li>
				</ul>
			</div>
			<div class="dropdown block">
				<button type="button" class="btn btn-primary dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					{% verbatim %}{{ vm.dropText }}{% endverbatim %} <span class="caret"></span>
				</button>
				<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
					<a class="dropdown-item" ng-click="vm.sortBy('time', true)">Most Recent</a>
					<a class="dropdown-item" ng-click="vm.sortBy('value', true)">Transaction Amount <span class="font-italic h6">| Largest to Smallest</span></a>
					<a class="dropdown-item" ng-click="vm.sortBy('value', false)">Transaction Amount <span class="font-italic h6">| Smallest to Largest</span></a>
				</div>
			</div>
		</div>
		
		<div class="list-group">
			<div ng-repeat="tx in vm.items" class="list-group-item mx-auto" style="width: 90%">
				<div class="row align-items-start" style="padding-bottom: 1vh;">
					<div class="col-sm-1">
						<img src="{% verbatim %}{{ tx.img }}{% endverbatim %}" width="48" height="48">
					</div>
					<div class="col-sm-7 h1">
						{% verbatim %}{{ tx.amount | number : fractionSize }}{% endverbatim %}
						<button width="20" height="20" class="btn btn-icon rounded" style="background-color:rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ tx.amount }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy Transaction Amount">
							<svg width="20" height="20" viewBox="0 0 67 67">
								<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
							</svg>
						</button>
					</div>
					<div class="col-sm-4 h5 font-italic text-right">{% verbatim %}{{ tx.time*1000 | date:'yyyy-MM-dd h:mm:ss a' }}{% endverbatim %}</div>
				</div>
				<div class="row justify-content-center" style="padding-bottom: 1rem;">
					<div class="col-sm-5 text-right block">
						<button width="16" height="16" ng-click="vm.highlight(tx.from, true)" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-toggle="tooltip" data-placement="top" title="Highlight on Graph">
							<svg width="16" height="16" viewBox="-64 0 479 479.99545">
								<path d="m68.488281 391.523438-11.765625-6.648438c-.445312-.230469-.855468-.527344-1.210937-.878906l-46.0625 77.039062c-1.28125 2.265625-1.28125 5.039063 0 7.304688 1.394531 2.285156 3.890625 3.675781 6.566406 3.65625h67.433594c2.578125.015625 4.988281-1.277344 6.398437-3.433594l30.640625-47.765625-13.046875-7.3125zm0 0" fill="#ffcc5c"/>
								<path d="m338.671875 102.59375-111.78125 221.1875c-.957031 1.890625-2.648437 3.304688-4.679687 3.910156-.703126.179688-1.421876.28125-2.144532.304688-1.351562-.011719-2.671875-.382813-3.832031-1.074219l-131.9375-76.695313c-1.824219-1.019531-3.128906-2.761718-3.597656-4.800781-.503907-2.019531-.144531-4.15625.992187-5.902343l132.671875-205.71875c16.3125-25.292969 49.625-33.296876 75.644531-18.175782l27.824219 16.183594c24.570313 14.375 33.699219 45.390625 20.839844 70.78125zm0 0" fill="#ffcc5c"/>
								<path d="m82.992188 247.996094-20.855469 37.96875c-1.941407 3.503906-.792969 7.914062 2.609375 10.03125 11.480468 6.992187 11.34375 38.398437-7.328125 72.160156-1.667969 3.019531-1.054688 6.789062 1.480469 9.128906.320312.355469.703124.652344 1.128906.878906l10.980468 6.703126 36.363282 22.089843 12.191406 7.359375 1.054688.664063c1.613281 1.007812 3.570312 1.296875 5.40625.792969 1.832031-.5 3.371093-1.75 4.242187-3.441407 12.335937-22.402343 29.601563-39.464843 44-43.441406 3.828125-1.410156 8.074219-1.144531 11.695313.738281 1.601562.980469 3.535156 1.269532 5.351562.796875 1.84375-.527343 3.394531-1.777343 4.304688-3.460937l20.871093-38.058594zm0 0" fill="#333"/>
								<path d="m264.488281 46.460938c-3.738281-2.347657-8.671875-1.21875-11.023437 2.519531l-106.238282 169.199219c-1.554687 2.421874-1.6875 5.492187-.351562 8.039062 1.339844 2.546875 3.941406 4.179688 6.816406 4.277344 2.875.09375 5.582032-1.359375 7.085938-3.8125l106.257812-169.199219c2.339844-3.746094 1.199219-8.683594-2.546875-11.023437zm0 0"/>
								<path d="m324.65625 25.980469-31.765625-18.464844c-25.667969-14.921875-58.535156-6.992187-74.578125 17.992187l-140.128906 217.085938c0 .050781 0 .113281-.0625.160156-.0625.050782-.136719.136719-.183594.21875l-23.847656 41.519532c-2.191406 3.820312-.882813 8.695312 2.925781 10.902343 13.082031 7.578125 12.914063 41.601563-8.246094 78.402344-1.84375 3.265625-1.132812 7.382813 1.703125 9.839844l-48.902344 84.359375c-1.429687 2.472656-1.429687 5.519531-.003906 7.996094 1.429688 2.472656 4.066406 4 6.921875 4.003906h71.539063c2.765625 0 5.339844-1.429688 6.796875-3.785156l32.449219-52.261719 1.238281.71875c1.214843.707031 2.597656 1.082031 4 1.085937.699219.003906 1.394531-.089844 2.066406-.269531 2.054687-.546875 3.808594-1.894531 4.871094-3.738281 14.015625-24.335938 33.601562-42.878906 49.871093-47.199219 4.378907-1.511719 9.183594-1.195313 13.328126.871094 1.839843 1.074219 4.03125 1.367187 6.089843.816406 2.058594-.550781 3.808594-1.898437 4.871094-3.742187 0 0 24-41.832032 24.082031-41.921876l116.71875-230.6875c13.457032-26.507812 3.917969-58.910156-21.753906-73.902343zm-249.078125 438.015625h-53.207031l41.773437-72.082032 41.289063 24zm119.589844-105.472656c-5.933594-1.332032-12.109375-1.144532-17.949219.542968-18.800781 5.015625-39.578125 23.066406-55.449219 47.824219l-55.320312-32.144531c18.59375-36.101563 20.382812-71.886719 4.90625-88.199219l16.453125-28.640625 123.824218 72zm136.984375-265.886719-112.894532 223.117187-123.082031-71.527344 135.585938-210.046874c11.433593-17.765626 34.8125-23.402344 53.085937-12.800782l31.769532 18.464844c18.320312 10.722656 25.125 33.855469 15.535156 52.792969zm0 0"/>
							</svg>
						</button>
						<a href="{% verbatim %}{{ tx.sourceUrl }}{% endverbatim %}" class="text-truncate h6">
							{% verbatim %}{{ tx.source }}{% endverbatim %}
						</a>
						<button width="16" height="16" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ tx.source }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy Sender Address">
							<svg width="16" height="16" viewBox="0 0 67 67">
								<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
							</svg>
						</button>
					</div>
					<svg viewBox="0 0 40 40" width="24" height="24" class="col-sm-1">
						<g>
							<path d="m25 10l7.8 8.2c0.5 0.5 0.7 1.1 0.7 1.8s-0.2 1.3-0.7 1.7l-7.8 8.3c-1 0.9-2.4 0.9-3.4 0s-0.9-2.7 0-3.6l3.8-3.9h-17c-1.3 0-2.4-1.1-2.4-2.5s1.1-2.5 2.4-2.5h17l-3.9-3.9c-0.9-0.9-0.9-2.7 0-3.6s2.5-0.9 3.5 0z" fill="grey"></path>
						</g>
					</svg>
					<div class="col-sm-5 text-left block">
						<button width="16" height="16" ng-click="vm.highlight(tx.to, true)" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-toggle="tooltip" data-placement="top" title="Highlight on Graph">
							<svg width="16" height="16" viewBox="-64 0 479 479.99545">
								<path d="m68.488281 391.523438-11.765625-6.648438c-.445312-.230469-.855468-.527344-1.210937-.878906l-46.0625 77.039062c-1.28125 2.265625-1.28125 5.039063 0 7.304688 1.394531 2.285156 3.890625 3.675781 6.566406 3.65625h67.433594c2.578125.015625 4.988281-1.277344 6.398437-3.433594l30.640625-47.765625-13.046875-7.3125zm0 0" fill="#ffcc5c"/>
								<path d="m338.671875 102.59375-111.78125 221.1875c-.957031 1.890625-2.648437 3.304688-4.679687 3.910156-.703126.179688-1.421876.28125-2.144532.304688-1.351562-.011719-2.671875-.382813-3.832031-1.074219l-131.9375-76.695313c-1.824219-1.019531-3.128906-2.761718-3.597656-4.800781-.503907-2.019531-.144531-4.15625.992187-5.902343l132.671875-205.71875c16.3125-25.292969 49.625-33.296876 75.644531-18.175782l27.824219 16.183594c24.570313 14.375 33.699219 45.390625 20.839844 70.78125zm0 0" fill="#ffcc5c"/>
								<path d="m82.992188 247.996094-20.855469 37.96875c-1.941407 3.503906-.792969 7.914062 2.609375 10.03125 11.480468 6.992187 11.34375 38.398437-7.328125 72.160156-1.667969 3.019531-1.054688 6.789062 1.480469 9.128906.320312.355469.703124.652344 1.128906.878906l10.980468 6.703126 36.363282 22.089843 12.191406 7.359375 1.054688.664063c1.613281 1.007812 3.570312 1.296875 5.40625.792969 1.832031-.5 3.371093-1.75 4.242187-3.441407 12.335937-22.402343 29.601563-39.464843 44-43.441406 3.828125-1.410156 8.074219-1.144531 11.695313.738281 1.601562.980469 3.535156 1.269532 5.351562.796875 1.84375-.527343 3.394531-1.777343 4.304688-3.460937l20.871093-38.058594zm0 0" fill="#333"/>
								<path d="m264.488281 46.460938c-3.738281-2.347657-8.671875-1.21875-11.023437 2.519531l-106.238282 169.199219c-1.554687 2.421874-1.6875 5.492187-.351562 8.039062 1.339844 2.546875 3.941406 4.179688 6.816406 4.277344 2.875.09375 5.582032-1.359375 7.085938-3.8125l106.257812-169.199219c2.339844-3.746094 1.199219-8.683594-2.546875-11.023437zm0 0"/>
								<path d="m324.65625 25.980469-31.765625-18.464844c-25.667969-14.921875-58.535156-6.992187-74.578125 17.992187l-140.128906 217.085938c0 .050781 0 .113281-.0625.160156-.0625.050782-.136719.136719-.183594.21875l-23.847656 41.519532c-2.191406 3.820312-.882813 8.695312 2.925781 10.902343 13.082031 7.578125 12.914063 41.601563-8.246094 78.402344-1.84375 3.265625-1.132812 7.382813 1.703125 9.839844l-48.902344 84.359375c-1.429687 2.472656-1.429687 5.519531-.003906 7.996094 1.429688 2.472656 4.066406 4 6.921875 4.003906h71.539063c2.765625 0 5.339844-1.429688 6.796875-3.785156l32.449219-52.261719 1.238281.71875c1.214843.707031 2.597656 1.082031 4 1.085937.699219.003906 1.394531-.089844 2.066406-.269531 2.054687-.546875 3.808594-1.894531 4.871094-3.738281 14.015625-24.335938 33.601562-42.878906 49.871093-47.199219 4.378907-1.511719 9.183594-1.195313 13.328126.871094 1.839843 1.074219 4.03125 1.367187 6.089843.816406 2.058594-.550781 3.808594-1.898437 4.871094-3.742187 0 0 24-41.832032 24.082031-41.921876l116.71875-230.6875c13.457032-26.507812 3.917969-58.910156-21.753906-73.902343zm-249.078125 438.015625h-53.207031l41.773437-72.082032 41.289063 24zm119.589844-105.472656c-5.933594-1.332032-12.109375-1.144532-17.949219.542968-18.800781 5.015625-39.578125 23.066406-55.449219 47.824219l-55.320312-32.144531c18.59375-36.101563 20.382812-71.886719 4.90625-88.199219l16.453125-28.640625 123.824218 72zm136.984375-265.886719-112.894532 223.117187-123.082031-71.527344 135.585938-210.046874c11.433593-17.765626 34.8125-23.402344 53.085937-12.800782l31.769532 18.464844c18.320312 10.722656 25.125 33.855469 15.535156 52.792969zm0 0"/>
							</svg>
						</button>
						<a href="{% verbatim %}{{ tx.targetUrl }}{% endverbatim %}" class="text-truncate h6">
							{% verbatim %}{{ tx.target }}{% endverbatim %}
						</a>
						<button width="16" height="16" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ tx.target }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy Reference Address">
							<svg width="16" height="16" viewBox="0 0 67 67">
								<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
							</svg>
						</button>	
					</div>
						
				</div>
				<div class="row align-items-end justify-content-center">
					<button width="16" height="16" ng-click="vm.highlight(tx.id, false)" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-toggle="tooltip" data-placement="top" title="Highlight on Graph">
						<svg width="16" height="16" viewBox="-64 0 479 479.99545">
							<path d="m68.488281 391.523438-11.765625-6.648438c-.445312-.230469-.855468-.527344-1.210937-.878906l-46.0625 77.039062c-1.28125 2.265625-1.28125 5.039063 0 7.304688 1.394531 2.285156 3.890625 3.675781 6.566406 3.65625h67.433594c2.578125.015625 4.988281-1.277344 6.398437-3.433594l30.640625-47.765625-13.046875-7.3125zm0 0" fill="#ffcc5c"/>
							<path d="m338.671875 102.59375-111.78125 221.1875c-.957031 1.890625-2.648437 3.304688-4.679687 3.910156-.703126.179688-1.421876.28125-2.144532.304688-1.351562-.011719-2.671875-.382813-3.832031-1.074219l-131.9375-76.695313c-1.824219-1.019531-3.128906-2.761718-3.597656-4.800781-.503907-2.019531-.144531-4.15625.992187-5.902343l132.671875-205.71875c16.3125-25.292969 49.625-33.296876 75.644531-18.175782l27.824219 16.183594c24.570313 14.375 33.699219 45.390625 20.839844 70.78125zm0 0" fill="#ffcc5c"/>
							<path d="m82.992188 247.996094-20.855469 37.96875c-1.941407 3.503906-.792969 7.914062 2.609375 10.03125 11.480468 6.992187 11.34375 38.398437-7.328125 72.160156-1.667969 3.019531-1.054688 6.789062 1.480469 9.128906.320312.355469.703124.652344 1.128906.878906l10.980468 6.703126 36.363282 22.089843 12.191406 7.359375 1.054688.664063c1.613281 1.007812 3.570312 1.296875 5.40625.792969 1.832031-.5 3.371093-1.75 4.242187-3.441407 12.335937-22.402343 29.601563-39.464843 44-43.441406 3.828125-1.410156 8.074219-1.144531 11.695313.738281 1.601562.980469 3.535156 1.269532 5.351562.796875 1.84375-.527343 3.394531-1.777343 4.304688-3.460937l20.871093-38.058594zm0 0" fill="#333"/>
							<path d="m264.488281 46.460938c-3.738281-2.347657-8.671875-1.21875-11.023437 2.519531l-106.238282 169.199219c-1.554687 2.421874-1.6875 5.492187-.351562 8.039062 1.339844 2.546875 3.941406 4.179688 6.816406 4.277344 2.875.09375 5.582032-1.359375 7.085938-3.8125l106.257812-169.199219c2.339844-3.746094 1.199219-8.683594-2.546875-11.023437zm0 0"/>
							<path d="m324.65625 25.980469-31.765625-18.464844c-25.667969-14.921875-58.535156-6.992187-74.578125 17.992187l-140.128906 217.085938c0 .050781 0 .113281-.0625.160156-.0625.050782-.136719.136719-.183594.21875l-23.847656 41.519532c-2.191406 3.820312-.882813 8.695312 2.925781 10.902343 13.082031 7.578125 12.914063 41.601563-8.246094 78.402344-1.84375 3.265625-1.132812 7.382813 1.703125 9.839844l-48.902344 84.359375c-1.429687 2.472656-1.429687 5.519531-.003906 7.996094 1.429688 2.472656 4.066406 4 6.921875 4.003906h71.539063c2.765625 0 5.339844-1.429688 6.796875-3.785156l32.449219-52.261719 1.238281.71875c1.214843.707031 2.597656 1.082031 4 1.085937.699219.003906 1.394531-.089844 2.066406-.269531 2.054687-.546875 3.808594-1.894531 4.871094-3.738281 14.015625-24.335938 33.601562-42.878906 49.871093-47.199219 4.378907-1.511719 9.183594-1.195313 13.328126.871094 1.839843 1.074219 4.03125 1.367187 6.089843.816406 2.058594-.550781 3.808594-1.898437 4.871094-3.742187 0 0 24-41.832032 24.082031-41.921876l116.71875-230.6875c13.457032-26.507812 3.917969-58.910156-21.753906-73.902343zm-249.078125 438.015625h-53.207031l41.773437-72.082032 41.289063 24zm119.589844-105.472656c-5.933594-1.332032-12.109375-1.144532-17.949219.542968-18.800781 5.015625-39.578125 23.066406-55.449219 47.824219l-55.320312-32.144531c18.59375-36.101563 20.382812-71.886719 4.90625-88.199219l16.453125-28.640625 123.824218 72zm136.984375-265.886719-112.894532 223.117187-123.082031-71.527344 135.585938-210.046874c11.433593-17.765626 34.8125-23.402344 53.085937-12.800782l31.769532 18.464844c18.320312 10.722656 25.125 33.855469 15.535156 52.792969zm0 0"/>
						</svg>
					</button>
					<a href="{% verbatim %}{{ tx.txidUrl }}{% endverbatim %}" class="font-italic text-truncate" style="font-size: 65%">
						{% verbatim %}{{ tx.txid }}{% endverbatim %}
					</a>
					<button width="16" height="16" class="btn btn-icon rounded" style="background-color: rgba(0, 0, 0, 0)" data-clipboard-text="{% verbatim %}{{ tx.txid }}{% endverbatim %}" data-toggle="tooltip" data-placement="top" title="Copy TxID">
						<svg width="16" height="16" viewBox="0 0 67 67">
							<path d="M61.559,16.528L44.432,0.713C44.064,0.377,43.583,0,43.083,0H25.446c-5.407,0-9.134,2.81-9.134,6.877V12h-3.358    c-4.946,0-8.642,3.124-8.642,7.369V59.37c0,4.492,4.077,7.63,8.642,7.63h29.231c4.677,0,8.127-3.288,8.127-7.63V55h4.365    c4.41,0,7.635-3.513,7.635-8.122V18.555c0-0.029,0.242-0.057,0.241-0.085c0.001-0.03,0.134-0.059,0.134-0.089    C62.688,17.541,62.293,16.824,61.559,16.528z M44.312,6.665L55.462,16H44.312V6.665z M46.312,59.37c0,2.363-1.938,3.63-4.127,3.63    H12.955c-2.323,0-4.642-1.381-4.642-3.63V19.369c0-2.6,3.095-3.369,4.642-3.369h15.358v15.381c0,1.104,1.396,1.619,2.5,1.619h15.5    V59.37z M44.028,29H32.312v-9.878L44.028,29z M54.677,51h-4.365V31.047c0-0.562,0.014-1.097-0.4-1.476l-17.43-16.059    c-0.324-0.667-0.94-1.132-1.732-1.132c-0.036,0-0.039-0.182-0.075-0.18c-0.038-0.002-0.044-0.201-0.083-0.201h-10.28V6.876    c0-2.063,3.02-2.877,5.134-2.877h14.866V18.38c0,1.104,1.396,1.619,2.5,1.619h15.5v26.878C58.312,49.276,56.881,51,54.677,51z" fill="#639dc7"/>
						</svg>
					</button>		
				</div>
			</div>
		</div>
		<div style="padding-top: 2vh">
			<ul ng-if="vm.pager.pages.length" class="pagination justify-content-center noselect">
				<li ng-class="{disabled:vm.pager.currentPage === 1}" class="page-item">
					<a ng-click="vm.setPage(1)" class="page-link">First</a>
				</li>
				<li ng-class="{disabled:vm.pager.currentPage === 1}" class="page-item"> 
					<a ng-click="vm.setPage(vm.pager.currentPage - 1)" class="page-link">Previous</a>
				</li>
				<li ng-repeat="page in vm.pager.pages" ng-class="{active:vm.pager.currentPage === page}" class="page-item">
					<a ng-click="vm.setPage(page)" class="page-link">{% verbatim %}{{page}}{% endverbatim %}</a>
				</li>                
				<li ng-class="{disabled:vm.pager.currentPage === vm.pager.totalPages}" class="page-item">
					<a ng-click="vm.setPage(vm.pager.currentPage + 1)" class="page-link">Next</a>
				</li>
				<li ng-class="{disabled:vm.pager.currentPage === vm.pager.totalPages}" class="page-item">
					<a ng-click="vm.setPage(vm.pager.totalPages)" class="page-link">Last</a>
				</li>
			</ul>
		</div>
	</div>
	<script>
		var clipboard = new ClipboardJS('.btn');

		clipboard.on('success', function(e) {
			e.action
			e.clearSelection();
		});

		clipboard.on('error', function(e) {
			console.error('Action:', e.action);
			console.error('Trigger:', e.trigger);
		});
		
		function fullGraph() {
			document.getElementById('graph').requestFullscreen();
		}

		function toggleDarkMode() {
			console.log($('#graph').css('background-color'));
			if ($('#graph').css('background-color') == "rgb(0, 0, 0)") {
				$('#graph').css('background-color', 'white');
				network.setOptions({"nodes": {"font": {"color": "#000000"}}});
			} else {
				$('#graph').css('background-color', 'black');
				network.setOptions({"nodes": {"font": {"color": "#ffffff"}}});
			}
		}

		// This method is responsible for drawing the graph, returns the drawn network
		function drawGraph(stop) {
			var container = document.getElementById('graph');
			container.style = "cursor: wait";
			// parsing and collecting nodes and edges from the python
			//nodes = new vis.DataSet({{nodes|safe}});
			//edges = new vis.DataSet({{edges|safe}});

			// adding nodes and edges to the graph
			data = {
				nodes: new vis.DataSet(nodes),
				edges: new vis.DataSet(edges)
			};

			let vm = angular.element($('body')).scope();

			var options = {
				"nodes": {
					"scaling": {
						"min": 25,
						"max": 200
					},
					"shape": "dot",
					"borderWidthSelected": 1,
					"font": {
						"color": "#000000"
					},
					"color": {
						"highlight": {
							"border": "#1f8766",
							"background": "#e5ff00"
						}
					}
				},
				"edges": {
					"arrows": {
						"to": {
							"enabled": true
						}
					},
					"scaling": {
						"min": 1,
						"max": 25
					},
					"arrowStrikethrough": false,
					"color": {
						"highlight": "#e5ff00",
						"hover": "#0062ff"
					},
					"smooth": {
						"type": "dynamic",
						"forceDirection": "none"
					},
					"font": {
						"color": "#000000"
					}
				},
				"groups": {
					"useDefaultGroups": true,
					"usdt": {
						"color": {
							"background": "#26A17B",
							"border": "#1f8766",
						}
					}
				},
				"interaction": {
					"dragNodes": true,
					"hideEdgesOnDrag": false,
					"hideNodesOnDrag": false,
					"hover": true,
					"tooltipDelay": 100,
					"hoverConnectedEdges": ("{{search.label}}" == 'All Addresses')
				},
				"layout": {
					"improvedLayout": false
				},
				"physics": {
					'stabilization': {
						'enabled': true,
						'iterations': 1000,
						'updateInterval': 100
					},
					"repulsion": {
						"nodeDistance": 400,
						"springLength": 300
					},
					"forceAtlas2Based": {
						"avoidOverlap": 0.75
					},
					"enabled": true,
					"solver": (!("{{search.label}}").includes('Addresses') && ($('#hide').text().toLowerCase().includes('collapse') || $('#maxTxsNum').attr('max') == 1)) ? "repulsion" : "forceAtlas2Based"
				}
			};
			network = new vis.Network(container, data, options);

			if (stop) {
				stopPhysics();
			}

			network.on('click', properties => {
				vm.$apply(`vm.select(${JSON.stringify(properties)})`);
			});

			network.on('deselectEdge', properties => {
				vm.$apply('vm.setTxs()');
			});
			
			network.on('deselectNode', properties => {
				vm.$apply('vm.setTxs()');
			});
			return network;
		}

		//drawGraph();

		function stopPhysics() {
			setTimeout(function() {
				network.setOptions({"physics":{"enabled":false}});
				network.fit({animation: true});
				document.getElementById('graph').style = "cursor: auto";
			}, edges.length*10);
		}
	</script>
</body>
{% endif %}
</html>